{"version":3,"sources":["_meta.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAO,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;IACpC,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC;IAClC,GAAG,GAAQ,OAAO,CAAC,QAAQ,CAAC;IAC5B,OAAO,GAAI,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO;IACjC,EAAE,GAAS,CAAC,CAAC;AACjB,IAAI,YAAY,GAAG,MAAM,CAAC,YAAY,IAAI,YAAU;AAClD,SAAO,IAAI,CAAC;CACb,CAAC;AACF,IAAI,MAAM,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,YAAU;AAC1C,SAAO,YAAY,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC;CACnD,CAAC,CAAC;AACH,IAAI,OAAO,GAAG,SAAV,OAAO,CAAY,EAAE,EAAC;AACxB,SAAO,CAAC,EAAE,EAAE,IAAI,EAAE,EAAC,KAAK,EAAE;AACxB,OAAC,EAAE,GAAG,GAAG,EAAE,EAAE;AACb,OAAC,EAAE,EAAE;KACN,EAAC,CAAC,CAAC;CACL,CAAC;AACF,IAAI,OAAO,GAAG,SAAV,OAAO,CAAY,EAAE,EAAE,MAAM,EAAC;;AAEhC,MAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,OAAO,OAAO,EAAE,IAAI,QAAQ,GAAG,EAAE,GAAG,CAAC,OAAO,EAAE,IAAI,QAAQ,GAAG,GAAG,GAAG,GAAG,CAAA,GAAI,EAAE,CAAC;AAC9F,MAAG,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAC;;AAEhB,QAAG,CAAC,YAAY,CAAC,EAAE,CAAC,EAAC,OAAO,GAAG,CAAC;;AAEhC,QAAG,CAAC,MAAM,EAAC,OAAO,GAAG,CAAC;;AAEtB,WAAO,CAAC,EAAE,CAAC,CAAC;;GAEb,AAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACrB,CAAC;AACF,IAAI,OAAO,GAAG,SAAV,OAAO,CAAY,EAAE,EAAE,MAAM,EAAC;AAChC,MAAG,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAC;;AAEhB,QAAG,CAAC,YAAY,CAAC,EAAE,CAAC,EAAC,OAAO,IAAI,CAAC;;AAEjC,QAAG,CAAC,MAAM,EAAC,OAAO,KAAK,CAAC;;AAExB,WAAO,CAAC,EAAE,CAAC,CAAC;;GAEb,AAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACrB,CAAC;;AAEF,IAAI,QAAQ,GAAG,SAAX,QAAQ,CAAY,EAAE,EAAC;AACzB,MAAG,MAAM,IAAI,IAAI,CAAC,IAAI,IAAI,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACzE,SAAO,EAAE,CAAC;CACX,CAAC;AACF,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,GAAG;AAC1B,KAAG,EAAO,IAAI;AACd,MAAI,EAAM,KAAK;AACf,SAAO,EAAG,OAAO;AACjB,SAAO,EAAG,OAAO;AACjB,UAAQ,EAAE,QAAQ;CACnB,CAAC","file":"_meta-compiled.js","sourcesContent":["var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_').setDesc\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};"]}
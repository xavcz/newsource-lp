{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["// Generated by LiveScript 1.4.0\n(function(){\n  var Promise, ref$, list, experimental, libraryBlacklist, es5SpecialCase, banner, readFile, writeFile, unlink, join, webpack, temp;\n  Promise = require('../library/fn/promise');\n  ref$ = require('./config'), list = ref$.list, experimental = ref$.experimental, libraryBlacklist = ref$.libraryBlacklist, es5SpecialCase = ref$.es5SpecialCase, banner = ref$.banner;\n  ref$ = require('fs'), readFile = ref$.readFile, writeFile = ref$.writeFile, unlink = ref$.unlink;\n  join = require('path').join;\n  webpack = require('webpack');\n  temp = require('temp');\n  module.exports = function(arg$){\n    var modules, ref$, blacklist, library, this$ = this;\n    modules = (ref$ = arg$.modules) != null\n      ? ref$\n      : [], blacklist = (ref$ = arg$.blacklist) != null\n      ? ref$\n      : [], library = (ref$ = arg$.library) != null ? ref$ : false;\n    return new Promise(function(resolve, reject){\n      (function(){\n        var i$, x$, ref$, len$, y$, ns, name, j$, len1$, TARGET, this$ = this;\n        if (this.exp) {\n          for (i$ = 0, len$ = (ref$ = experimental).length; i$ < len$; ++i$) {\n            x$ = ref$[i$];\n            this[x$] = true;\n          }\n        }\n        if (this.es5) {\n          for (i$ = 0, len$ = (ref$ = es5SpecialCase).length; i$ < len$; ++i$) {\n            y$ = ref$[i$];\n            this[y$] = true;\n          }\n        }\n        for (ns in this) {\n          if (this[ns]) {\n            for (i$ = 0, len$ = (ref$ = list).length; i$ < len$; ++i$) {\n              name = ref$[i$];\n              if (name.indexOf(ns + \".\") === 0 && !in$(name, experimental)) {\n                this[name] = true;\n              }\n            }\n          }\n        }\n        if (library) {\n          blacklist = blacklist.concat(libraryBlacklist);\n        }\n        for (i$ = 0, len$ = blacklist.length; i$ < len$; ++i$) {\n          ns = blacklist[i$];\n          for (j$ = 0, len1$ = (ref$ = list).length; j$ < len1$; ++j$) {\n            name = ref$[j$];\n            if (name === ns || name.indexOf(ns + \".\") === 0) {\n              this[name] = false;\n            }\n          }\n        }\n        TARGET = temp.path({\n          suffix: '.js'\n        });\n        webpack({\n          entry: list.filter(function(it){\n            return this$[it];\n          }).map(function(it){\n            if (library) {\n              return join(__dirname, '..', 'library', 'modules', it);\n            } else {\n              return join(__dirname, '..', 'modules', it);\n            }\n          }),\n          output: {\n            path: '',\n            filename: TARGET\n          }\n        }, function(err, info){\n          if (err) {\n            return reject(err);\n          }\n          readFile(TARGET, function(err, script){\n            if (err) {\n              return reject(err);\n            }\n            unlink(TARGET, function(err){\n              if (err) {\n                return reject(err);\n              }\n              resolve(\"\" + banner + \"\\n!function(__e, __g, undefined){\\n'use strict';\\n\" + script + \"\\n// CommonJS export\\nif(typeof module != 'undefined' && module.exports)module.exports = __e;\\n// RequireJS export\\nelse if(typeof define == 'function' && define.amd)define(function(){return __e});\\n// Export to global object\\nelse __g.core = __e;\\n}(1, 1);\");\n            });\n          });\n        });\n      }.call(modules.reduce(function(memo, it){\n        memo[it] = true;\n        return memo;\n      }, {})));\n    });\n  };\n  function in$(x, xs){\n    var i = -1, l = xs.length >>> 0;\n    while (++i < l) if (x === xs[i]) return true;\n    return false;\n  }\n}).call(this);\n"]}
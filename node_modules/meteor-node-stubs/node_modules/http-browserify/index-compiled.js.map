{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var http = module.exports;\nvar EventEmitter = require('events').EventEmitter;\nvar Request = require('./lib/request');\nvar url = require('url')\n\nhttp.request = function (params, cb) {\n    if (typeof params === 'string') {\n        params = url.parse(params)\n    }\n    if (!params) params = {};\n    if (!params.host && !params.port) {\n        params.port = parseInt(window.location.port, 10);\n    }\n    if (!params.host && params.hostname) {\n        params.host = params.hostname;\n    }\n\n    if (!params.protocol) {\n        if (params.scheme) {\n            params.protocol = params.scheme + ':';\n        } else {\n            params.protocol = window.location.protocol;\n        }\n    }\n\n    if (!params.host) {\n        params.host = window.location.hostname || window.location.host;\n    }\n    if (/:/.test(params.host)) {\n        if (!params.port) {\n            params.port = params.host.split(':')[1];\n        }\n        params.host = params.host.split(':')[0];\n    }\n    if (!params.port) params.port = params.protocol == 'https:' ? 443 : 80;\n    \n    var req = new Request(new xhrHttp, params);\n    if (cb) req.on('response', cb);\n    return req;\n};\n\nhttp.get = function (params, cb) {\n    params.method = 'GET';\n    var req = http.request(params, cb);\n    req.end();\n    return req;\n};\n\nhttp.Agent = function () {};\nhttp.Agent.defaultMaxSockets = 4;\n\nvar xhrHttp = (function () {\n    if (typeof window === 'undefined') {\n        throw new Error('no window object present');\n    }\n    else if (window.XMLHttpRequest) {\n        return window.XMLHttpRequest;\n    }\n    else if (window.ActiveXObject) {\n        var axs = [\n            'Msxml2.XMLHTTP.6.0',\n            'Msxml2.XMLHTTP.3.0',\n            'Microsoft.XMLHTTP'\n        ];\n        for (var i = 0; i < axs.length; i++) {\n            try {\n                var ax = new(window.ActiveXObject)(axs[i]);\n                return function () {\n                    if (ax) {\n                        var ax_ = ax;\n                        ax = null;\n                        return ax_;\n                    }\n                    else {\n                        return new(window.ActiveXObject)(axs[i]);\n                    }\n                };\n            }\n            catch (e) {}\n        }\n        throw new Error('ajax not supported in this browser')\n    }\n    else {\n        throw new Error('ajax not supported in this browser');\n    }\n})();\n\nhttp.STATUS_CODES = {\n    100 : 'Continue',\n    101 : 'Switching Protocols',\n    102 : 'Processing',                 // RFC 2518, obsoleted by RFC 4918\n    200 : 'OK',\n    201 : 'Created',\n    202 : 'Accepted',\n    203 : 'Non-Authoritative Information',\n    204 : 'No Content',\n    205 : 'Reset Content',\n    206 : 'Partial Content',\n    207 : 'Multi-Status',               // RFC 4918\n    300 : 'Multiple Choices',\n    301 : 'Moved Permanently',\n    302 : 'Moved Temporarily',\n    303 : 'See Other',\n    304 : 'Not Modified',\n    305 : 'Use Proxy',\n    307 : 'Temporary Redirect',\n    400 : 'Bad Request',\n    401 : 'Unauthorized',\n    402 : 'Payment Required',\n    403 : 'Forbidden',\n    404 : 'Not Found',\n    405 : 'Method Not Allowed',\n    406 : 'Not Acceptable',\n    407 : 'Proxy Authentication Required',\n    408 : 'Request Time-out',\n    409 : 'Conflict',\n    410 : 'Gone',\n    411 : 'Length Required',\n    412 : 'Precondition Failed',\n    413 : 'Request Entity Too Large',\n    414 : 'Request-URI Too Large',\n    415 : 'Unsupported Media Type',\n    416 : 'Requested Range Not Satisfiable',\n    417 : 'Expectation Failed',\n    418 : 'I\\'m a teapot',              // RFC 2324\n    422 : 'Unprocessable Entity',       // RFC 4918\n    423 : 'Locked',                     // RFC 4918\n    424 : 'Failed Dependency',          // RFC 4918\n    425 : 'Unordered Collection',       // RFC 4918\n    426 : 'Upgrade Required',           // RFC 2817\n    428 : 'Precondition Required',      // RFC 6585\n    429 : 'Too Many Requests',          // RFC 6585\n    431 : 'Request Header Fields Too Large',// RFC 6585\n    500 : 'Internal Server Error',\n    501 : 'Not Implemented',\n    502 : 'Bad Gateway',\n    503 : 'Service Unavailable',\n    504 : 'Gateway Time-out',\n    505 : 'HTTP Version Not Supported',\n    506 : 'Variant Also Negotiates',    // RFC 2295\n    507 : 'Insufficient Storage',       // RFC 4918\n    509 : 'Bandwidth Limit Exceeded',\n    510 : 'Not Extended',               // RFC 2774\n    511 : 'Network Authentication Required' // RFC 6585\n};"]}
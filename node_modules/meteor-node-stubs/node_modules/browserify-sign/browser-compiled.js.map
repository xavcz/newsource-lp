{"version":3,"sources":["browser.js"],"names":[],"mappings":"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","file":"browser-compiled.js","sourcesContent":["var _algos = require('./algos')\nvar createHash = require('create-hash')\nvar inherits = require('inherits')\nvar sign = require('./sign')\nvar stream = require('stream')\nvar verify = require('./verify')\n\nvar algos = {}\nObject.keys(_algos).forEach(function (key) {\n  algos[key] = algos[key.toLowerCase()] = _algos[key]\n})\n\nfunction Sign (algorithm) {\n  stream.Writable.call(this)\n\n  var data = algos[algorithm]\n  if (!data) {\n    throw new Error('Unknown message digest')\n  }\n\n  this._hashType = data.hash\n  this._hash = createHash(data.hash)\n  this._tag = data.id\n  this._signType = data.sign\n}\ninherits(Sign, stream.Writable)\n\nSign.prototype._write = function _write (data, _, done) {\n  this._hash.update(data)\n  done()\n}\n\nSign.prototype.update = function update (data, enc) {\n  if (typeof data === 'string') {\n    data = new Buffer(data, enc)\n  }\n\n  this._hash.update(data)\n  return this\n}\n\nSign.prototype.sign = function signMethod (key, enc) {\n  this.end()\n  var hash = this._hash.digest()\n  var sig = sign(Buffer.concat([this._tag, hash]), key, this._hashType, this._signType)\n\n  return enc ? sig.toString(enc) : sig\n}\n\nfunction Verify (algorithm) {\n  stream.Writable.call(this)\n\n  var data = algos[algorithm]\n  if (!data) {\n    throw new Error('Unknown message digest')\n  }\n\n  this._hash = createHash(data.hash)\n  this._tag = data.id\n  this._signType = data.sign\n}\ninherits(Verify, stream.Writable)\n\nVerify.prototype._write = function _write (data, _, done) {\n  this._hash.update(data)\n\n  done()\n}\n\nVerify.prototype.update = function update (data, enc) {\n  if (typeof data === 'string') {\n    data = new Buffer(data, enc)\n  }\n\n  this._hash.update(data)\n  return this\n}\n\nVerify.prototype.verify = function verifyMethod (key, sig, enc) {\n  if (typeof sig === 'string') {\n    sig = new Buffer(sig, enc)\n  }\n\n  this.end()\n  var hash = this._hash.digest()\n\n  return verify(sig, Buffer.concat([this._tag, hash]), key, this._signType)\n}\n\nfunction createSign (algorithm) {\n  return new Sign(algorithm)\n}\n\nfunction createVerify (algorithm) {\n  return new Verify(algorithm)\n}\n\nmodule.exports = {\n  Sign: createSign,\n  Verify: createVerify,\n  createSign: createSign,\n  createVerify: createVerify\n}\n"]}
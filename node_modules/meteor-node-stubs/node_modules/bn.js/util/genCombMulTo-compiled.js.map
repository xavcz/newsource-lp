{"version":3,"sources":["genCombMulTo.js"],"names":[],"mappings":"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","file":"genCombMulTo-compiled.js","sourcesContent":["'use strict';\n\n// NOTE: This could be potentionally used to generate loop-less multiplications\nfunction genCombMulTo (alen, blen) {\n  var len = alen + blen - 1;\n  var src = [\n    'var a = self.words;',\n    'var b = num.words;',\n    'var o = out.words;',\n    'var c = 0;',\n    'var lo;',\n    'var mid;',\n    'var hi;'\n  ];\n  for (var i = 0; i < alen; i++) {\n    src.push('var a' + i + ' = a[' + i + '] | 0;');\n    src.push('var al' + i + ' = a' + i + ' & 0x1fff;');\n    src.push('var ah' + i + ' = a' + i + ' >>> 13;');\n  }\n  for (i = 0; i < blen; i++) {\n    src.push('var b' + i + ' = b[' + i + '] | 0;');\n    src.push('var bl' + i + ' = b' + i + ' & 0x1fff;');\n    src.push('var bh' + i + ' = b' + i + ' >>> 13;');\n  }\n  src.push('');\n  src.push('out.negative = self.negative ^ num.negative;');\n  src.push('out.length = ' + len + ';');\n\n  for (var k = 0; k < len; k++) {\n    var minJ = Math.max(0, k - alen + 1);\n    var maxJ = Math.min(k, blen - 1);\n\n    src.push('\\/* k = ' + k + ' *\\/');\n    src.push('var w' + k + ' = c;');\n    src.push('c = 0;');\n    for (var j = minJ; j <= maxJ; j++) {\n      i = k - j;\n\n      src.push('lo = Math.imul(al' + i + ', bl' + j + ');');\n      src.push('mid = Math.imul(al' + i + ', bh' + j + ');');\n      src.push('mid = (mid + Math.imul(ah' + i + ', bl' + j + ')) | 0;');\n      src.push('hi = Math.imul(ah' + i + ', bh' + j + ');');\n\n      src.push('w' + k + ' = (w' + k + ' + lo) | 0;');\n      src.push('w' + k + ' = (w' + k + ' + ((mid & 0x1fff) << 13)) | 0;');\n      src.push('c = (c + hi) | 0;');\n      src.push('c = (c + (mid >>> 13)) | 0;');\n      src.push('c = (c + (w' + k + ' >>> 26)) | 0;');\n      src.push('w' + k + ' &= 0x3ffffff;');\n    }\n  }\n  // Store in separate step for better memory access\n  for (k = 0; k < len; k++) {\n    src.push('o[' + k + '] = w' + k + ';');\n  }\n  src.push('if (c !== 0) {',\n           '  o[' + k + '] = c;',\n           '  out.length++;',\n           '}',\n           'return out;');\n\n  return src.join('\\n');\n}\n\nconsole.log(genCombMulTo(10, 10));\n"]}
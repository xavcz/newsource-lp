{"version":3,"sources":["browser.js"],"names":[],"mappings":"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","file":"browser-compiled.js","sourcesContent":["var elliptic = require('elliptic');\nvar BN = require('bn.js');\n\nmodule.exports = function createECDH(curve) {\n\treturn new ECDH(curve);\n};\n\nvar aliases = {\n\tsecp256k1: {\n\t\tname: 'secp256k1',\n\t\tbyteLength: 32\n\t},\n\tsecp224r1: {\n\t\tname: 'p224',\n\t\tbyteLength: 28\n\t},\n\tprime256v1: {\n\t\tname: 'p256',\n\t\tbyteLength: 32\n\t},\n\tprime192v1: {\n\t\tname: 'p192',\n\t\tbyteLength: 24\n\t},\n\ted25519: {\n\t\tname: 'ed25519',\n\t\tbyteLength: 32\n\t},\n\tsecp384r1: {\n\t\tname: 'p384',\n\t\tbyteLength: 48\n\t},\n\tsecp521r1: {\n\t\tname: 'p521',\n\t\tbyteLength: 66\n\t}\n};\n\naliases.p224 = aliases.secp224r1;\naliases.p256 = aliases.secp256r1 = aliases.prime256v1;\naliases.p192 = aliases.secp192r1 = aliases.prime192v1;\naliases.p384 = aliases.secp384r1;\naliases.p521 = aliases.secp521r1;\n\nfunction ECDH(curve) {\n\tthis.curveType = aliases[curve];\n\tif (!this.curveType ) {\n\t\tthis.curveType = {\n\t\t\tname: curve\n\t\t};\n\t}\n\tthis.curve = new elliptic.ec(this.curveType.name);\n\tthis.keys = void 0;\n}\n\nECDH.prototype.generateKeys = function (enc, format) {\n\tthis.keys = this.curve.genKeyPair();\n\treturn this.getPublicKey(enc, format);\n};\n\nECDH.prototype.computeSecret = function (other, inenc, enc) {\n\tinenc = inenc || 'utf8';\n\tif (!Buffer.isBuffer(other)) {\n\t\tother = new Buffer(other, inenc);\n\t}\n\tvar otherPub = this.curve.keyFromPublic(other).getPublic();\n\tvar out = otherPub.mul(this.keys.getPrivate()).getX();\n\treturn formatReturnValue(out, enc, this.curveType.byteLength);\n};\n\nECDH.prototype.getPublicKey = function (enc, format) {\n\tvar key = this.keys.getPublic(format === 'compressed', true);\n\tif (format === 'hybrid') {\n\t\tif (key[key.length - 1] % 2) {\n\t\t\tkey[0] = 7;\n\t\t} else {\n\t\t\tkey [0] = 6;\n\t\t}\n\t}\n\treturn formatReturnValue(key, enc);\n};\n\nECDH.prototype.getPrivateKey = function (enc) {\n\treturn formatReturnValue(this.keys.getPrivate(), enc);\n};\n\nECDH.prototype.setPublicKey = function (pub, enc) {\n\tenc = enc || 'utf8';\n\tif (!Buffer.isBuffer(pub)) {\n\t\tpub = new Buffer(pub, enc);\n\t}\n\tthis.keys._importPublic(pub);\n\treturn this;\n};\n\nECDH.prototype.setPrivateKey = function (priv, enc) {\n\tenc = enc || 'utf8';\n\tif (!Buffer.isBuffer(priv)) {\n\t\tpriv = new Buffer(priv, enc);\n\t}\n\tvar _priv = new BN(priv);\n\t_priv = _priv.toString(16);\n\tthis.keys._importPrivate(_priv);\n\treturn this;\n};\n\nfunction formatReturnValue(bn, enc, len) {\n\tif (!Array.isArray(bn)) {\n\t\tbn = bn.toArray();\n\t}\n\tvar buf = new Buffer(bn);\n\tif (len && buf.length < len) {\n\t\tvar zeros = new Buffer(len - buf.length);\n\t\tzeros.fill(0);\n\t\tbuf = Buffer.concat([zeros, buf]);\n\t}\n\tif (!enc) {\n\t\treturn buf;\n\t} else {\n\t\treturn buf.toString(enc);\n\t}\n}\n"]}
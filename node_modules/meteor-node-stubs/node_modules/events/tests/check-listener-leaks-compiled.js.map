{"version":3,"sources":["check-listener-leaks.js"],"names":[],"mappings":"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","file":"check-listener-leaks-compiled.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar assert = require('assert');\nvar events = require('../');\n\nvar e = new events.EventEmitter();\n\n// default\nfor (var i = 0; i < 10; i++) {\n  e.on('default', function() {});\n}\nassert.ok(!e._events['default'].hasOwnProperty('warned'));\ne.on('default', function() {});\nassert.ok(e._events['default'].warned);\n\n// specific\ne.setMaxListeners(5);\nfor (var i = 0; i < 5; i++) {\n  e.on('specific', function() {});\n}\nassert.ok(!e._events['specific'].hasOwnProperty('warned'));\ne.on('specific', function() {});\nassert.ok(e._events['specific'].warned);\n\n// only one\ne.setMaxListeners(1);\ne.on('only one', function() {});\nassert.ok(!e._events['only one'].hasOwnProperty('warned'));\ne.on('only one', function() {});\nassert.ok(e._events['only one'].hasOwnProperty('warned'));\n\n// unlimited\ne.setMaxListeners(0);\nfor (var i = 0; i < 1000; i++) {\n  e.on('unlimited', function() {});\n}\nassert.ok(!e._events['unlimited'].hasOwnProperty('warned'));\n\n// process-wide\nevents.EventEmitter.defaultMaxListeners = 42;\ne = new events.EventEmitter();\n\nfor (var i = 0; i < 42; ++i) {\n  e.on('fortytwo', function() {});\n}\nassert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\ne.on('fortytwo', function() {});\nassert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\ndelete e._events['fortytwo'].warned;\n\nevents.EventEmitter.defaultMaxListeners = 44;\ne.on('fortytwo', function() {});\nassert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\ne.on('fortytwo', function() {});\nassert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\n\n// but _maxListeners still has precedence over defaultMaxListeners\nevents.EventEmitter.defaultMaxListeners = 42;\ne = new events.EventEmitter();\ne.setMaxListeners(1);\ne.on('uno', function() {});\nassert.ok(!e._events['uno'].hasOwnProperty('warned'));\ne.on('uno', function() {});\nassert.ok(e._events['uno'].hasOwnProperty('warned'));\n\n// chainable\nassert.strictEqual(e, e.setMaxListeners(1));\n"]}
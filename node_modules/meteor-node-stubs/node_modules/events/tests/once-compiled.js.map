{"version":3,"sources":["once.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC/B,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;;AAE5B,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC;AAClC,IAAI,kBAAkB,GAAG,CAAC,CAAC;;AAE3B,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAS,CAAC,EAAE,CAAC,EAAE;AAC7B,mBAAkB,EAAE,CAAC;CACtB,CAAC,CAAC;;AAEH,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;AAE1B,IAAI,MAAM,GAAG,SAAT,MAAM,GAAc;AACtB,OAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,iCAAiC,EAAE,GAAG,CAAC,CAAC;CAC3D,CAAC;;AAEF,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACtB,CAAC,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAChC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;AAEd,IAAI,qBAAqB,GAAG,CAAC,CAAC;;AAE9B,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,YAAW;AACtB,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACZ,sBAAqB,EAAE,CAAC;CACxB,CAAC,CAAC;;AAEH,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,YAAW;AACtB,sBAAqB,EAAE,CAAC;CACxB,CAAC,CAAC;;AAEH,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAEZ,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;AACpC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC","file":"once-compiled.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar assert = require('assert');\nvar events = require('../');\n\nvar e = new events.EventEmitter();\nvar times_hello_emited = 0;\n\ne.once('hello', function(a, b) {\n  times_hello_emited++;\n});\n\ne.emit('hello', 'a', 'b');\ne.emit('hello', 'a', 'b');\ne.emit('hello', 'a', 'b');\ne.emit('hello', 'a', 'b');\n\nvar remove = function() {\n  assert.fail(1, 0, 'once->foo should not be emitted', '!');\n};\n\ne.once('foo', remove);\ne.removeListener('foo', remove);\ne.emit('foo');\n\nvar times_recurse_emitted = 0;\n\ne.once('e', function() {\n\te.emit('e');\n\ttimes_recurse_emitted++;\n});\n\ne.once('e', function() {\n\ttimes_recurse_emitted++;\n});\n\ne.emit('e');\n\nassert.equal(1, times_hello_emited);\nassert.equal(2, times_recurse_emitted);\n"]}
{"version":3,"sources":["decrypter.js"],"names":[],"mappings":"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","file":"decrypter-compiled.js","sourcesContent":["var aes = require('./aes')\nvar Transform = require('cipher-base')\nvar inherits = require('inherits')\nvar modes = require('./modes')\nvar StreamCipher = require('./streamCipher')\nvar AuthCipher = require('./authCipher')\nvar ebtk = require('evp_bytestokey')\n\ninherits(Decipher, Transform)\nfunction Decipher (mode, key, iv) {\n  if (!(this instanceof Decipher)) {\n    return new Decipher(mode, key, iv)\n  }\n  Transform.call(this)\n  this._cache = new Splitter()\n  this._last = void 0\n  this._cipher = new aes.AES(key)\n  this._prev = new Buffer(iv.length)\n  iv.copy(this._prev)\n  this._mode = mode\n  this._autopadding = true\n}\nDecipher.prototype._update = function (data) {\n  this._cache.add(data)\n  var chunk\n  var thing\n  var out = []\n  while ((chunk = this._cache.get(this._autopadding))) {\n    thing = this._mode.decrypt(this, chunk)\n    out.push(thing)\n  }\n  return Buffer.concat(out)\n}\nDecipher.prototype._final = function () {\n  var chunk = this._cache.flush()\n  if (this._autopadding) {\n    return unpad(this._mode.decrypt(this, chunk))\n  } else if (chunk) {\n    throw new Error('data not multiple of block length')\n  }\n}\nDecipher.prototype.setAutoPadding = function (setTo) {\n  this._autopadding = !!setTo\n  return this\n}\nfunction Splitter () {\n  if (!(this instanceof Splitter)) {\n    return new Splitter()\n  }\n  this.cache = new Buffer('')\n}\nSplitter.prototype.add = function (data) {\n  this.cache = Buffer.concat([this.cache, data])\n}\n\nSplitter.prototype.get = function (autoPadding) {\n  var out\n  if (autoPadding) {\n    if (this.cache.length > 16) {\n      out = this.cache.slice(0, 16)\n      this.cache = this.cache.slice(16)\n      return out\n    }\n  } else {\n    if (this.cache.length >= 16) {\n      out = this.cache.slice(0, 16)\n      this.cache = this.cache.slice(16)\n      return out\n    }\n  }\n  return null\n}\nSplitter.prototype.flush = function () {\n  if (this.cache.length) {\n    return this.cache\n  }\n}\nfunction unpad (last) {\n  var padded = last[15]\n  var i = -1\n  while (++i < padded) {\n    if (last[(i + (16 - padded))] !== padded) {\n      throw new Error('unable to decrypt data')\n    }\n  }\n  if (padded === 16) {\n    return\n  }\n  return last.slice(0, 16 - padded)\n}\n\nvar modelist = {\n  ECB: require('./modes/ecb'),\n  CBC: require('./modes/cbc'),\n  CFB: require('./modes/cfb'),\n  CFB8: require('./modes/cfb8'),\n  CFB1: require('./modes/cfb1'),\n  OFB: require('./modes/ofb'),\n  CTR: require('./modes/ctr'),\n  GCM: require('./modes/ctr')\n}\n\nfunction createDecipheriv (suite, password, iv) {\n  var config = modes[suite.toLowerCase()]\n  if (!config) {\n    throw new TypeError('invalid suite type')\n  }\n  if (typeof iv === 'string') {\n    iv = new Buffer(iv)\n  }\n  if (typeof password === 'string') {\n    password = new Buffer(password)\n  }\n  if (password.length !== config.key / 8) {\n    throw new TypeError('invalid key length ' + password.length)\n  }\n  if (iv.length !== config.iv) {\n    throw new TypeError('invalid iv length ' + iv.length)\n  }\n  if (config.type === 'stream') {\n    return new StreamCipher(modelist[config.mode], password, iv, true)\n  } else if (config.type === 'auth') {\n    return new AuthCipher(modelist[config.mode], password, iv, true)\n  }\n  return new Decipher(modelist[config.mode], password, iv)\n}\n\nfunction createDecipher (suite, password) {\n  var config = modes[suite.toLowerCase()]\n  if (!config) {\n    throw new TypeError('invalid suite type')\n  }\n  var keys = ebtk(password, false, config.key, config.iv)\n  return createDecipheriv(suite, keys.key, keys.iv)\n}\nexports.createDecipher = createDecipher\nexports.createDecipheriv = createDecipheriv\n"]}
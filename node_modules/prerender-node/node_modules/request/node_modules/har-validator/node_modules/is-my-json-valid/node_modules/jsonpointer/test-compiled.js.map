{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test-compiled.js","sourcesContent":["var assert = require(\"assert\");\nvar jsonpointer = require(\"./jsonpointer\");\n\nvar obj = {\n  a: 1,\n  b: {\n    c: 2\n  },\n  d: {\n    e: [{a:3}, {b:4}, {c:5}]\n  }\n};\n\nassert.equal(jsonpointer.get(obj, \"/a\"), 1);\nassert.equal(jsonpointer.get(obj, \"/b/c\"), 2);\nassert.equal(jsonpointer.get(obj, \"/d/e/0/a\"), 3);\nassert.equal(jsonpointer.get(obj, \"/d/e/1/b\"), 4);\nassert.equal(jsonpointer.get(obj, \"/d/e/2/c\"), 5);\n\n// set returns old value\nassert.equal(jsonpointer.set(obj, \"/a\", 2), 1);\nassert.equal(jsonpointer.set(obj, \"/b/c\", 3), 2);\nassert.equal(jsonpointer.set(obj, \"/d/e/0/a\", 4), 3);\nassert.equal(jsonpointer.set(obj, \"/d/e/1/b\", 5), 4);\nassert.equal(jsonpointer.set(obj, \"/d/e/2/c\", 6), 5);\n\nassert.equal(jsonpointer.get(obj, \"/a\"), 2);\nassert.equal(jsonpointer.get(obj, \"/b/c\"), 3);\nassert.equal(jsonpointer.get(obj, \"/d/e/0/a\"), 4);\nassert.equal(jsonpointer.get(obj, \"/d/e/1/b\"), 5);\nassert.equal(jsonpointer.get(obj, \"/d/e/2/c\"), 6);\n\nassert.equal(jsonpointer.get(obj, \"\"), obj);\nassert.throws(function(){ jsonpointer.get(obj, \"a\"); }, validateError);\nassert.throws(function(){ jsonpointer.get(obj, \"a/\"); }, validateError);\n\nfunction validateError(err) {\n  if ( (err instanceof Error) && /Invalid JSON pointer/.test(err.message) ) {\n      return true;\n  }\n}\n\nvar complexKeys = {\n  \"a/b\": {\n    c: 1\n  },\n  d: {\n    \"e/f\": 2\n  },\n  \"~1\": 3,\n  \"01\": 4\n}\n\nassert.equal(jsonpointer.get(complexKeys, \"/a~1b/c\"), 1);\nassert.equal(jsonpointer.get(complexKeys, \"/d/e~1f\"), 2);\nassert.equal(jsonpointer.get(complexKeys, \"/~01\"), 3);\nassert.equal(jsonpointer.get(complexKeys, \"/01\"), 4);\nassert.equal(jsonpointer.get(complexKeys, \"/a/b/c\"), null);\nassert.equal(jsonpointer.get(complexKeys, \"/~1\"), null);\n\n// draft-ietf-appsawg-json-pointer-08 has special array rules\nvar ary = [ \"zero\", \"one\", \"two\" ];\nassert.equal(jsonpointer.get(ary, \"/01\"), null);\n\n//assert.equal(jsonpointer.set(ary, \"/-\", \"three\"), null);\n//assert.equal(ary[3], \"three\");\n\n// Examples from the draft:\nvar example = {\n  \"foo\": [\"bar\", \"baz\"],\n  \"\": 0,\n  \"a/b\": 1,\n  \"c%d\": 2,\n  \"e^f\": 3,\n  \"g|h\": 4,\n  \"i\\\\j\": 5,\n  \"k\\\"l\": 6,\n  \" \": 7,\n  \"m~n\": 8\n};\n\nassert.equal(jsonpointer.get(example, \"\"), example);\nvar ans = jsonpointer.get(example, \"/foo\");\nassert.equal(ans.length, 2);\nassert.equal(ans[0], \"bar\");\nassert.equal(ans[1], \"baz\");\nassert.equal(jsonpointer.get(example, \"/foo/0\"), \"bar\");\nassert.equal(jsonpointer.get(example, \"/\"), 0);\nassert.equal(jsonpointer.get(example, \"/a~1b\"), 1);\nassert.equal(jsonpointer.get(example, \"/c%d\"), 2);\nassert.equal(jsonpointer.get(example, \"/e^f\"), 3);\nassert.equal(jsonpointer.get(example, \"/g|h\"), 4);\nassert.equal(jsonpointer.get(example, \"/i\\\\j\"), 5);\nassert.equal(jsonpointer.get(example, \"/k\\\"l\"), 6);\nassert.equal(jsonpointer.get(example, \"/ \"), 7);\nassert.equal(jsonpointer.get(example, \"/m~0n\"), 8);\n\nconsole.log(\"All tests pass.\");\n"]}
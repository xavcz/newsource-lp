{"version":3,"sources":["test.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;;AAE1B,IAAI,CAAC,uBAAuB,EAAE,UAAS,CAAC,EAAE;AACxC,MAAI,EAAE,GAAG,MAAM,EAAE,CACd,mBAAmB,CAAC,CAClB,eAAe,EAAE,EAAE,CAAC,CACtB,GAAG,CAAC,CAAA;;AAEP,GAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,uCAAuC,EAAE,kBAAkB,CAAC,CAAA;AAClF,GAAC,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,gBAAgB,CAAC,CAAA;AACjD,GAAC,CAAC,GAAG,EAAE,CAAA;CACR,CAAC,CAAA;;AAEF,IAAI,CAAC,sCAAsC,EAAE,UAAS,CAAC,EAAE;AACvD,MAAI,EAAE,GAAG,MAAM,EAAE,CACd,mBAAmB,CAAC,CAClB,wBAAwB,EAAE,EAAE,CAAC,CAC/B,GAAG,CAAC,CAAA;;AAEP,MAAI,OAAO,GAAG,EAAE,CAAC,UAAU,EAAE,CAAA;AAC7B,MAAI,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC,EAAC,MAAM,EAAC,EAAE,EAAC,CAAC,CAAA;;AAErC,MAAI;AACF,WAAO,CAAC,EAAE,CAAC,CAAA;AACX,KAAC,CAAC,EAAE,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAA;GACxC,CAAC,OAAO,GAAG,EAAE;AACZ,KAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,uBAAuB,EAAE,wBAAwB,CAAC,CAAA;GACvE;;AAED,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,gCAAgC,CAAC,CAAA;AACtD,GAAC,CAAC,GAAG,EAAE,CAAA;CACR,CAAC,CAAA","file":"test-compiled.js","sourcesContent":["var tape = require('tape')\nvar genfun = require('./')\n\ntape('generate add function', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d', 42)\n    ('}')\n\n  t.same(fn.toString(), 'function add(n) {\\n  return n + 42\\n}', 'code is indented')\n  t.same(fn.toFunction()(10), 52, 'function works')\n  t.end()\n})\n\ntape('generate function + closed variables', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d + number', 42)\n    ('}')\n\n  var notGood = fn.toFunction()\n  var good = fn.toFunction({number:10})\n\n  try {\n    notGood(10)\n    t.ok(false, 'function should not work')\n  } catch (err) {\n    t.same(err.message, 'number is not defined', 'throws reference error')\n  }\n\n  t.same(good(11), 63, 'function with closed var works')\n  t.end()\n})"]}
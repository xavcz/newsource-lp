{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAA;AAChD,IAAI,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACzC,IAAI,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACxC,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAElC,IAAI,GAAG,GAAG,SAAN,GAAG,CAAY,GAAG,EAAE,iBAAiB,EAAE,GAAG,EAAE;;AAE9C,MAAI,KAAK,GAAG,SAAR,KAAK,CAAY,GAAG,EAAE;AACxB,QAAI,GAAG,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAE,OAAO,GAAG,CAAA;AACrC,QAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,CAAC,GAAG,EAAE,OAAO,IAAI,CAAA;AAChD,WAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE,CAAC,EAAE;AAC9C,aAAO,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;KAC5B,EAAE,IAAI,CAAC,CAAA;GACT,CAAA;;AAED,MAAI,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAA;AACpB,MAAI,GAAG,EAAE,OAAO,GAAG,CAAA;;AAEnB,KAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;AAC3B,KAAG,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;;AAE5B,MAAI;AACF,WAAO,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAA;GAC5C,CAAC,OAAO,GAAG,EAAE;AACZ,QAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;AAC1B,QAAI,KAAK,CAAA;;AAET,QAAI,GAAG,KAAK,CAAC,EAAE;;AAEb,UAAI,GAAG,KAAK,CAAC,CAAC,EAAE;AACd,aAAK,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAA;OAC/B,MAAM;AACL,YAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;AAC3B,aAAK,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAA;AAC9B,YAAI,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;AAC/C,YAAI;AACF,iBAAO,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;SACxC,CAAC,OAAO,GAAG,EAAE,EAAE;OACjB;KACF,MAAM;AACL,WAAK,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAA;KAC/B;AACD,WAAO,KAAK,IAAI,IAAI,CAAA;GACrB;CACF,CAAA;;AAED,IAAI,UAAU,GAAG,SAAb,UAAU,CAAY,KAAK,EAAE;AAC/B,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;AAC7B,MAAI,OAAO,GAAG,iBAAiB,CAAA;AAC/B,SAAO,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAA;AACrE,SAAO,KAAK,CAAA;CACb,CAAA;;AAED,IAAI,KAAK,GAAG,EAAE,CAAA;;AAEd,KAAK,CAAC,GAAG,GAAG,YAAW;AACrB,SAAO,MAAM,CAAA;CACd,CAAA;;AAED,KAAK,QAAK,GAAG,UAAS,IAAI,EAAE;AAC1B,SAAO,IAAI,GAAC,WAAW,CAAA;CACxB,CAAA;;AAED,KAAK,CAAC,OAAO,GAAG,UAAS,IAAI,EAAE;AAC7B,SAAO,SAAS,GAAC,IAAI,GAAC,gBAAgB,CAAA;CACvC,CAAA;;AAED,KAAK,CAAC,KAAK,GAAG,UAAS,IAAI,EAAE;AAC3B,SAAO,gBAAgB,GAAC,IAAI,GAAC,GAAG,CAAA;CACjC,CAAA;;AAED,KAAK,CAAC,MAAM,GAAG,UAAS,IAAI,EAAE;AAC5B,SAAO,SAAS,GAAC,IAAI,GAAC,mBAAmB,GAAC,IAAI,GAAC,qBAAqB,GAAC,IAAI,GAAC,GAAG,CAAA;CAC9E,CAAA;;AAED,KAAK,CAAC,MAAM,GAAG,UAAS,IAAI,EAAE;AAC5B,SAAO,SAAS,GAAC,IAAI,GAAC,eAAe,CAAA;CACtC,CAAA;;AAED,KAAK,CAAC,OAAO,GAAG,UAAS,IAAI,EAAE;AAC7B,SAAO,SAAS,GAAC,IAAI,GAAC,+BAA+B,GAAC,IAAI,GAAC,QAAQ,GAAC,IAAI,GAAC,MAAM,GAAC,IAAI,GAAC,yBAAyB,GAAC,IAAI,GAAC,uBAAuB,CAAA;CAC5I,CAAA;;AAED,KAAK,CAAC,MAAM,GAAG,UAAS,IAAI,EAAE;AAC5B,SAAO,SAAS,GAAC,IAAI,GAAC,eAAe,CAAA;CACtC,CAAA;;AAED,IAAI,MAAM,GAAG,SAAT,MAAM,CAAY,KAAK,EAAE;AAC3B,MAAI,IAAI,GAAG,EAAE,CAAA;AACb,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACrC,QAAI,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;GAC9E;AACD,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,QAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO,KAAK,CAAA;GAC9C;AACD,SAAO,IAAI,CAAA;CACZ,CAAA;;AAED,IAAI,YAAY,GAAG,SAAf,YAAY,CAAY,IAAI,EAAE,UAAU,EAAE;AAC5C,MAAI,GAAG,CAAC;AACR,MAAI,MAAM,GAAG,AAAC,CAAC,UAAU,GAAG,CAAC,CAAA,KAAM,UAAU,GAAI,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AAChH,MAAI,MAAM,GAAG,CAAC,EAAE;AACd,QAAI,UAAU,GAAG,AAAC,CAAC,IAAI,GAAG,CAAC,CAAA,KAAM,IAAI,GAAI,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AAClG,QAAI,UAAU,GAAG,MAAM,EAAE,GAAG,GAAG,IAAI,CAAA,KAC9B,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,MAAM,GAAG,UAAU,CAAA,AAAC,CAAA;GAC7D,MACI,GAAG,GAAG,IAAI,GAAG,UAAU,CAAC;AAC7B,SAAO,CAAC,GAAG,CAAC;CACb,CAAA;;AAED,IAAI,MAAM,GAAG,SAAT,MAAM,CAAY,IAAI,EAAE;AAC1B,SAAO,IAAI,CAAC,IAAI,CAAA;CACjB,CAAA;;AAED,IAAI,OAAO,GAAG,SAAV,OAAO,CAAY,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC1D,MAAI,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,OAAO,CAAA;AACxD,MAAI,KAAK,GAAG,EAAC,MAAM,EAAC,MAAM,EAAE,OAAO,EAAC,IAAI,EAAE,YAAY,EAAC,YAAY,EAAC,CAAA;AACpE,MAAI,OAAO,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AAC5C,MAAI,MAAM,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,GAC5C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;;AAEtB,MAAI,IAAI,GAAG,EAAE,CAAA;AACb,MAAI,MAAM,GAAG,SAAT,MAAM,CAAY,IAAI,EAAE;AAC1B,WAAO,IAAI,IAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA,GAAE,CAAC,CAAA,AAAC,CAAA;GAC/C,CAAA;;AAED,MAAI,eAAe,GAAG,EAAE,CAAA;AACxB,MAAI,QAAQ,GAAG,SAAX,QAAQ,CAAY,CAAC,EAAE;AACzB,QAAI,eAAe,CAAC,CAAC,CAAC,EAAE,OAAO,eAAe,CAAC,CAAC,CAAC,CAAA;AACjD,QAAI,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,CAAA;AACzB,SAAK,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,CAAA;AACxB,mBAAe,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;AACtB,WAAO,CAAC,CAAA;GACT,CAAA;;AAED,MAAI,IAAI,GAAG,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAA;AAChF,MAAI,OAAO,GAAG,SAAV,OAAO,GAAc;AACvB,QAAI,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAA;AACpB,QAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AACjB,WAAO,CAAC,CAAA;GACT,CAAA;;AAED,MAAI,KAAK,GAAG,SAAR,KAAK,CAAY,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE;AACjD,QAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAA;AAChC,QAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;AACpB,QAAI,KAAK,GAAG,KAAK,CAAA;;AAEjB,QAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;;AAC7B,gBAAU,GAAG,EAAE,CAAA;AACf,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE,CAAC,EAAE;AACnC,kBAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAA;OACrB,CAAC,CAAA;AACF,UAAI,GAAG,OAAO,CAAA;AACd,WAAK,GAAG,IAAI,CAAA;KACb;;AAED,QAAI,MAAM,GAAG,CAAC,CAAA;AACd,QAAI,KAAK,GAAG,SAAR,KAAK,CAAY,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE;AACrC,cAAQ,CAAC,UAAU,CAAC,CAAA;AACpB,UAAI,QAAQ,KAAK,IAAI,EAAE;AACrB,gBAAQ,CAAC,oDAAoD,CAAC,CAAA;AAC9D,YAAI,OAAO,EAAE;AACX,kBAAQ,CAAC,8DAA8D,EAAE,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,KAAK,IAAI,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAA;SAC7J,MAAM;AACL,kBAAQ,CAAC,6CAA6C,EAAE,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAA;SACvG;OACF;KACF,CAAA;;AAED,QAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;AAC1B,YAAM,EAAE,CAAA;AACR,cAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAA;AACzC,WAAK,CAAC,aAAa,CAAC,CAAA;AACpB,cAAQ,CAAC,UAAU,CAAC,CAAA;KACrB,MAAM;AACL,YAAM,EAAE,CAAA;AACR,cAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAA;KAC1C;;AAED,QAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CACxB,GAAG,CAAC,UAAS,CAAC,EAAE;AACf,aAAO,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CAAA;KAC/B,CAAC,CACD,IAAI,CAAC,MAAM,CAAC,IAAI,MAAM,CAAA;;AAEzB,QAAI,KAAK,KAAK,MAAM,EAAE;AACpB,YAAM,EAAE,CAAA;AACR,cAAQ,CAAC,cAAc,EAAE,KAAK,CAAC,CAAA;AAC/B,WAAK,CAAC,mBAAmB,CAAC,CAAA;AAC1B,cAAQ,CAAC,UAAU,CAAC,CAAA;KACrB;;AAED,QAAI,KAAK,EAAE;AACT,UAAI,IAAI,CAAC,eAAe,KAAK,KAAK,EAAE;AAClC,gBAAQ,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;AAC1D,aAAK,CAAC,sBAAsB,CAAC,CAAA;AAC7B,gBAAQ,CAAC,GAAG,CAAC,CAAA;OACd,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE;AAC/B,YAAI,CAAC,GAAG,OAAO,EAAE,CAAA;AACjB,gBAAQ,CAAC,2CAA2C,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;AACvF,aAAK,CAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,EAAE,IAAI,CAAC,eAAe,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;AAC7D,gBAAQ,CAAC,GAAG,CAAC,CAAA;OACd;KACF;;AAED,QAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AACpC,UAAI,IAAI,KAAK,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;AACxF,UAAI,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAA;AACxB,WAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;;AAE5B,UAAI,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE,QAAQ,CAAC,gBAAgB,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA,KAClE,QAAQ,CAAC,qBAAqB,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA;AAC7C,WAAK,CAAC,UAAU,GAAC,IAAI,CAAC,MAAM,GAAC,SAAS,CAAC,CAAA;AACvC,cAAQ,CAAC,GAAG,CAAC,CAAA;AACb,UAAI,IAAI,KAAK,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KAC7D;;AAED,QAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;AAChC,UAAI,WAAW,GAAG,SAAd,WAAW,CAAY,GAAG,EAAE;AAC9B,eAAO,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,gBAAgB,CAAA;OAC5C,CAAA;;AAED,UAAI,aAAa,GAAG,SAAhB,aAAa,CAAa,GAAG,EAAE;AACjC,YAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC7B,gBAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAA;AACzC,aAAK,CAAC,aAAa,EAAE,IAAI,CAAC,CAAA;AAC1B,gBAAQ,CAAC,WAAW,CAAC,CAAA;AACrB,gBAAQ,CAAC,GAAG,CAAC,CAAA;OACd,CAAA;AACD,cAAQ,CAAC,aAAa,EAAE,IAAI,KAAK,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAA;AACxE,cAAQ,CAAC,iBAAiB,CAAC,CAAA;AAC3B,UAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA;AAChC,cAAQ,CAAC,GAAG,CAAC,CAAC;AACd,UAAI,CAAC,MAAM,EAAE;AACX,gBAAQ,CAAC,sBAAsB,CAAC,CAAA;AAChC,cAAM,EAAE,CAAA;OACT;KACF;;AAED,QAAI,IAAI,CAAC,WAAW,EAAE;AACpB,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA;AAC9D,cAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAA;AACtC,WAAK,CAAC,gBAAgB,CAAC,CAAA;AACvB,cAAQ,CAAC,GAAG,CAAC,CAAA;AACb,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACpC;;AAED,QAAI,IAAI,QAAK,EAAE;AACb,UAAI,OAAO,GAAG,IAAI,QAAK,CAAC,IAAI,CAAC,UAAS,CAAC,EAAE;AACvC,eAAO,OAAO,CAAC,KAAK,QAAQ,CAAA;OAC7B,CAAC,CAAA;;AAEF,UAAI,OAAO,GAAG,OAAO,GACnB,UAAS,CAAC,EAAE;AACV,eAAO,iBAAiB,GAAC,IAAI,GAAC,GAAG,GAAC,sBAAsB,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAC,GAAG,CAAA;OAC/E,GACD,UAAS,CAAC,EAAE;AACV,eAAO,IAAI,GAAC,OAAO,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;OACtC,CAAA;;AAEH,cAAQ,CAAC,WAAW,EAAE,IAAI,QAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAA;AACrE,WAAK,CAAC,uBAAuB,CAAC,CAAA;AAC9B,cAAQ,CAAC,GAAG,CAAC,CAAA;KACd;;AAED,QAAI,IAAI,CAAC,YAAY,EAAE;AACrB,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,YAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE;AACnD,YAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAA;AACjC,YAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,IAAI,GAAG,CAAC,IAAI,CAAC,CAAA;;AAE3C,YAAI,MAAM,GAAG,SAAT,MAAM,CAAY,CAAC,EAAE;AACvB,iBAAO,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,gBAAgB,CAAA;SAC1C,CAAA;;AAED,YAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AACvB,kBAAQ,CAAC,kCAAkC,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,CAAA;AACxG,eAAK,CAAC,sBAAsB,CAAC,CAAA;AAC7B,kBAAQ,CAAC,GAAG,CAAC,CAAA;SACd;AACD,YAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAC5B,kBAAQ,CAAC,yBAAyB,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAA;AACtD,eAAK,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;AACnC,kBAAQ,CAAC,GAAG,CAAC,CAAA;SACd;OACF,CAAC,CAAA;;AAEF,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,oBAAoB,KAAK,KAAK,EAAE;AACpE,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,UAAI,CAAC,GAAG,OAAO,EAAE,CAAA;AACjB,UAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;;AAEzB,UAAI,SAAS,GAAG,SAAZ,SAAS,CAAY,CAAC,EAAE;AAC1B,eAAO,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;OAC7C,CAAA;;AAED,UAAI,MAAM,GAAG,SAAT,MAAM,CAAY,CAAC,EAAE;AACvB,eAAO,GAAG,GAAC,QAAQ,CAAC,CAAC,CAAC,GAAC,QAAQ,GAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,IAAI,CAAA;OAChD,CAAA;;AAED,UAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAC9D,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAC7D,IAAI,CAAC,MAAM,CAAC,IAAI,MAAM,CAAA;;AAEzB,cAAQ,CAAC,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,CAC7C,0CAA0C,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CACxD,WAAW,EAAE,cAAc,CAAC,CAAA;;AAEjC,UAAI,IAAI,CAAC,oBAAoB,KAAK,KAAK,EAAE;AACvC,YAAI,MAAM,EAAE,QAAQ,CAAC,WAAW,EAAE,IAAI,GAAC,GAAG,GAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,IAAI,CAAC,CAAA;AAC3D,aAAK,CAAC,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAC,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,GAAG,GAAG,GAAC,CAAC,GAAC,GAAG,CAAC,CAAA;OAC9F,MAAM;AACL,aAAK,CAAC,IAAI,GAAC,GAAG,GAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;OAC7E;;AAED,cAAQ,CACH,GAAG,CAAC,CACN,GAAG,CAAC,CAAA;;AAEP,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,IAAI,EAAE;AACb,UAAI,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;AAC1D,UAAI,GAAG,EAAE;AACP,YAAI,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AACzB,YAAI,CAAC,EAAE,EAAE;AACP,eAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,KAAK,CAAC,IAAI,EAAE;AACtC,mBAAO,EAAE,CAAC,IAAI,CAAC,CAAA;WAChB,CAAA;AACD,YAAE,GAAG,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;SAC5C;AACD,YAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;AACrB,aAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA;AACb,gBAAQ,CAAC,kBAAkB,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA;AACrC,aAAK,CAAC,kCAAkC,CAAC,CAAA;AACzC,gBAAQ,CAAC,GAAG,CAAC,CAAA;OACd;KACF;;AAED,QAAI,IAAI,CAAC,GAAG,EAAE;AACZ,UAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;AACzB,cAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAA;AACjC,WAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;AACpC,cAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAA;AACtC,WAAK,CAAC,yBAAyB,CAAC,CAAA;AAChC,cAAQ,CAAC,UAAU,CAAC,CACjB,aAAa,EAAE,IAAI,CAAC,CACtB,GAAG,CAAC,CAAA;KACN;;AAED,QAAI,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE;AACxB,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA;;AAE9D,UAAI,CAAC,GAAG,OAAO,EAAE,CAAA;AACjB,cAAQ,CAAC,0CAA0C,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;AACnE,WAAK,CAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;AACnD,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACpC;;AAED,QAAI,IAAI,CAAC,iBAAiB,EAAE;AAC1B,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;AAChE,UAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;AACzB,UAAI,CAAC,GAAG,OAAO,EAAE,CAAA;AACjB,cAAQ,CACL,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,CACvC,0CAA0C,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;;AAE7D,YAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE;AACxD,YAAI,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;AACrB,gBAAQ,CAAC,oBAAoB,EAAE,CAAC,EAAE,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,CAAC,CAAA;AACjD,aAAK,CAAC,IAAI,GAAC,GAAG,GAAC,IAAI,GAAC,GAAG,GAAC,CAAC,GAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;AAC9E,gBAAQ,CAAC,GAAG,CAAC,CAAA;OACd,CAAC,CAAA;;AAEF,cAAQ,CAAC,GAAG,CAAC,CAAA;AACb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,OAAO,EAAE;AAChB,UAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;AAC9B,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;AAChE,cAAQ,CAAC,uBAAuB,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA;AAC1C,WAAK,CAAC,kBAAkB,CAAC,CAAA;AACzB,cAAQ,CAAC,GAAG,CAAC,CAAA;AACb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,KAAK,EAAE;AACd,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE;AAC/B,aAAK,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;OACnC,CAAC,CAAA;KACH;;AAED,QAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AACnC,UAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;;AAEzB,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE,CAAC,EAAE;AAClC,YAAI,CAAC,KAAK,CAAC,EAAE;AACX,kBAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAA;SAClC,MAAM;AACL,kBAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CACnC,aAAa,EAAE,IAAI,CAAC,CAAA;SACxB;AACD,aAAK,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;OAC/B,CAAC,CAAA;AACF,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE,CAAC,EAAE;AAClC,YAAI,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;OACrB,CAAC,CAAA;AACF,cAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAA;AACtC,WAAK,CAAC,kBAAkB,CAAC,CAAA;AACzB,cAAQ,CAAC,GAAG,CAAC,CAAA;KACd;;AAED,QAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AACnC,UAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;AACzB,UAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAA;;AAE7B,cAAQ,CACL,iBAAiB,EAAE,IAAI,CAAC,CACxB,YAAY,EAAE,MAAM,CAAC,CAAA;;AAExB,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE,CAAC,EAAE;AAClC,aAAK,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;AAC9B,gBAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CACnC,MAAM,EAAE,MAAM,CAAC,CACjB,UAAU,CAAC,CACT,aAAa,EAAE,IAAI,CAAC,CACtB,GAAG,CAAC,CAAA;OACN,CAAC,CAAA;;AAEF,cAAQ,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAA;AACnC,WAAK,CAAC,qCAAqC,CAAC,CAAA;AAC5C,cAAQ,CAAC,GAAG,CAAC,CAAA;KACd;;AAED,QAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;AACjC,UAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,SAAS,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEtF,cAAQ,CAAC,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;;AAE/D,WAAK,CAAC,iBAAiB,CAAC,CAAA;AACxB,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,SAAS,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KAC3D;;AAED,QAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;AACpC,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,cAAQ,CAAC,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;AACxE,WAAK,CAAC,kCAAkC,CAAC,CAAA;AACzC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;AACpC,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,cAAQ,CAAC,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;AACxE,WAAK,CAAC,kCAAkC,CAAC,CAAA;AACzC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;AAC/B,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA;;AAE9D,cAAQ,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;AACtD,WAAK,CAAC,6BAA6B,CAAC,CAAA;AACpC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACpC;;AAED,QAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;AAC/B,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA;;AAE9D,cAAQ,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;AACtD,WAAK,CAAC,6BAA6B,CAAC,CAAA;AACpC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACpC;;AAED,QAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;AAChC,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,cAAQ,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;AACvD,WAAK,CAAC,gCAAgC,CAAC,CAAA;AACvC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;AAChC,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;;AAEhE,cAAQ,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;AACvD,WAAK,CAAC,8BAA8B,CAAC,CAAA;AACrC,cAAQ,CAAC,GAAG,CAAC,CAAA;;AAEb,UAAI,IAAI,KAAK,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;KACrC;;AAED,QAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;AAC9B,cAAQ,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;AACnF,WAAK,CAAC,sBAAsB,CAAC,CAAA;AAC7B,cAAQ,CAAC,GAAG,CAAC,CAAA;KACd;;AAED,QAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;AAC9B,cAAQ,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;AACnF,WAAK,CAAC,sBAAsB,CAAC,CAAA;AAC7B,cAAQ,CAAC,GAAG,CAAC,CAAA;KACd;;AAED,QAAI,UAAU,EAAE;AACd,YAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAS,CAAC,EAAE;AAC1C,YAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAA;;AAE5F,aAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;;AAEvD,YAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;OACtE,CAAC,CAAA;KACH;;AAED,WAAO,MAAM,EAAE,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA;GAC/B,CAAA;;AAED,MAAI,QAAQ,GAAG,MAAM,CAClB,2BAA2B,CAAC,CAC1B,wBAAwB,CAAC,CACzB,gBAAgB,CAAC,CAAA;;AAEtB,OAAK,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,CAAA;;AAEpD,UAAQ,CACH,qBAAqB,CAAC,CACxB,GAAG,CAAC,CAAA;;AAEP,UAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;AACrC,UAAQ,CAAC,MAAM,GAAG,IAAI,CAAA;;AAEtB,MAAI,MAAM,CAAC,cAAc,EAAE;AACzB,UAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,EAAE;AACvC,SAAG,EAAE,eAAW;AACd,YAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAE,CAAA;AAC/B,eAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,UAAS,GAAG,EAAE;AACvC,iBAAO,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;SACtC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;OACd;KACF,CAAC,CAAA;GACH;;AAED,UAAQ,CAAC,MAAM,GAAG,YAAW;AAC3B,WAAO,MAAM,CAAA;GACd,CAAA;;AAED,SAAO,QAAQ,CAAA;CAChB,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,UAAS,MAAM,EAAE,IAAI,EAAE;AACtC,MAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;AAC3D,SAAO,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;CAC/C,CAAA;;AAED,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,UAAS,MAAM,EAAE,IAAI,EAAE;AAC7C,MAAI,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC,CAAA;AAClE,SAAO,UAAS,GAAG,EAAE;AACnB,YAAQ,CAAC,GAAG,CAAC,CAAA;AACb,WAAO,GAAG,CAAA;GACX,CAAA;CACF,CAAA","file":"index-compiled.js","sourcesContent":["var genobj = require('generate-object-property')\nvar genfun = require('generate-function')\nvar jsonpointer = require('jsonpointer')\nvar xtend = require('xtend')\nvar formats = require('./formats')\n\nvar get = function(obj, additionalSchemas, ptr) {\n\n  var visit = function(sub) {\n    if (sub && sub.id === ptr) return sub\n    if (typeof sub !== 'object' || !sub) return null\n    return Object.keys(sub).reduce(function(res, k) {\n      return res || visit(sub[k])\n    }, null)\n  }\n\n  var res = visit(obj)\n  if (res) return res\n\n  ptr = ptr.replace(/^#/, '')\n  ptr = ptr.replace(/\\/$/, '')\n\n  try {\n    return jsonpointer.get(obj, decodeURI(ptr))\n  } catch (err) {\n    var end = ptr.indexOf('#')\n    var other\n    // external reference\n    if (end !== 0) {\n      // fragment doesn't exist.\n      if (end === -1) {\n        other = additionalSchemas[ptr]\n      } else {\n        var ext = ptr.slice(0, end)\n        other = additionalSchemas[ext]\n        var fragment = ptr.slice(end).replace(/^#/, '')\n        try {\n          return jsonpointer.get(other, fragment)\n        } catch (err) {}\n      }\n    } else {\n      other = additionalSchemas[ptr]\n    }\n    return other || null\n  }\n}\n\nvar formatName = function(field) {\n  field = JSON.stringify(field)\n  var pattern = /\\[([^\\[\\]\"]+)\\]/\n  while (pattern.test(field)) field = field.replace(pattern, '.\"+$1+\"')\n  return field\n}\n\nvar types = {}\n\ntypes.any = function() {\n  return 'true'\n}\n\ntypes.null = function(name) {\n  return name+' === null'\n}\n\ntypes.boolean = function(name) {\n  return 'typeof '+name+' === \"boolean\"'\n}\n\ntypes.array = function(name) {\n  return 'Array.isArray('+name+')'\n}\n\ntypes.object = function(name) {\n  return 'typeof '+name+' === \"object\" && '+name+' && !Array.isArray('+name+')'\n}\n\ntypes.number = function(name) {\n  return 'typeof '+name+' === \"number\"'\n}\n\ntypes.integer = function(name) {\n  return 'typeof '+name+' === \"number\" && (Math.floor('+name+') === '+name+' || '+name+' > 9007199254740992 || '+name+' < -9007199254740992)'\n}\n\ntypes.string = function(name) {\n  return 'typeof '+name+' === \"string\"'\n}\n\nvar unique = function(array) {\n  var list = []\n  for (var i = 0; i < array.length; i++) {\n    list.push(typeof array[i] === 'object' ? JSON.stringify(array[i]) : array[i])\n  }\n  for (var i = 1; i < list.length; i++) {\n    if (list.indexOf(list[i]) !== i) return false\n  }\n  return true\n}\n\nvar isMultipleOf = function(name, multipleOf) {\n  var res;\n  var factor = ((multipleOf | 0) !== multipleOf) ? Math.pow(10, multipleOf.toString().split('.').pop().length) : 1\n  if (factor > 1) {\n    var factorName = ((name | 0) !== name) ? Math.pow(10, name.toString().split('.').pop().length) : 1\n    if (factorName > factor) res = true\n    else res = Math.round(factor * name) % (factor * multipleOf)\n  }\n  else res = name % multipleOf;\n  return !res;\n}\n\nvar toType = function(node) {\n  return node.type\n}\n\nvar compile = function(schema, cache, root, reporter, opts) {\n  var fmts = opts ? xtend(formats, opts.formats) : formats\n  var scope = {unique:unique, formats:fmts, isMultipleOf:isMultipleOf}\n  var verbose = opts ? !!opts.verbose : false;\n  var greedy = opts && opts.greedy !== undefined ?\n    opts.greedy : false;\n\n  var syms = {}\n  var gensym = function(name) {\n    return name+(syms[name] = (syms[name] || 0)+1)\n  }\n\n  var reversePatterns = {}\n  var patterns = function(p) {\n    if (reversePatterns[p]) return reversePatterns[p]\n    var n = gensym('pattern')\n    scope[n] = new RegExp(p)\n    reversePatterns[p] = n\n    return n\n  }\n\n  var vars = ['i','j','k','l','m','n','o','p','q','r','s','t','u','v','x','y','z']\n  var genloop = function() {\n    var v = vars.shift()\n    vars.push(v+v[0])\n    return v\n  }\n\n  var visit = function(name, node, reporter, filter) {\n    var properties = node.properties\n    var type = node.type\n    var tuple = false\n\n    if (Array.isArray(node.items)) { // tuple type\n      properties = {}\n      node.items.forEach(function(item, i) {\n        properties[i] = item\n      })\n      type = 'array'\n      tuple = true\n    }\n\n    var indent = 0\n    var error = function(msg, prop, value) {\n      validate('errors++')\n      if (reporter === true) {\n        validate('if (validate.errors === null) validate.errors = []')\n        if (verbose) {\n          validate('validate.errors.push({field:%s,message:%s,value:%s,type:%s})', formatName(prop || name), JSON.stringify(msg), value || name, JSON.stringify(type))\n        } else {\n          validate('validate.errors.push({field:%s,message:%s})', formatName(prop || name), JSON.stringify(msg))\n        }\n      }\n    }\n\n    if (node.required === true) {\n      indent++\n      validate('if (%s === undefined) {', name)\n      error('is required')\n      validate('} else {')\n    } else {\n      indent++\n      validate('if (%s !== undefined) {', name)\n    }\n\n    var valid = [].concat(type)\n      .map(function(t) {\n        return types[t || 'any'](name)\n      })\n      .join(' || ') || 'true'\n\n    if (valid !== 'true') {\n      indent++\n      validate('if (!(%s)) {', valid)\n      error('is the wrong type')\n      validate('} else {')\n    }\n\n    if (tuple) {\n      if (node.additionalItems === false) {\n        validate('if (%s.length > %d) {', name, node.items.length)\n        error('has additional items')\n        validate('}')\n      } else if (node.additionalItems) {\n        var i = genloop()\n        validate('for (var %s = %d; %s < %s.length; %s++) {', i, node.items.length, i, name, i)\n        visit(name+'['+i+']', node.additionalItems, reporter, filter)\n        validate('}')\n      }\n    }\n\n    if (node.format && fmts[node.format]) {\n      if (type !== 'string' && formats[node.format]) validate('if (%s) {', types.string(name))\n      var n = gensym('format')\n      scope[n] = fmts[node.format]\n\n      if (typeof scope[n] === 'function') validate('if (!%s(%s)) {', n, name)\n      else validate('if (!%s.test(%s)) {', n, name)\n      error('must be '+node.format+' format')\n      validate('}')\n      if (type !== 'string' && formats[node.format]) validate('}')\n    }\n\n    if (Array.isArray(node.required)) {\n      var isUndefined = function(req) {\n        return genobj(name, req) + ' === undefined'\n      }\n\n      var checkRequired = function (req) {\n        var prop = genobj(name, req);\n        validate('if (%s === undefined) {', prop)\n        error('is required', prop)\n        validate('missing++')\n        validate('}')\n      }\n      validate('if ((%s)) {', type !== 'object' ? types.object(name) : 'true')\n      validate('var missing = 0')\n      node.required.map(checkRequired)\n      validate('}');\n      if (!greedy) {\n        validate('if (missing === 0) {')\n        indent++\n      }\n    }\n\n    if (node.uniqueItems) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n      validate('if (!(unique(%s))) {', name)\n      error('must be unique')\n      validate('}')\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.enum) {\n      var complex = node.enum.some(function(e) {\n        return typeof e === 'object'\n      })\n\n      var compare = complex ?\n        function(e) {\n          return 'JSON.stringify('+name+')'+' !== JSON.stringify('+JSON.stringify(e)+')'\n        } :\n        function(e) {\n          return name+' !== '+JSON.stringify(e)\n        }\n\n      validate('if (%s) {', node.enum.map(compare).join(' && ') || 'false')\n      error('must be an enum value')\n      validate('}')\n    }\n\n    if (node.dependencies) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      Object.keys(node.dependencies).forEach(function(key) {\n        var deps = node.dependencies[key]\n        if (typeof deps === 'string') deps = [deps]\n\n        var exists = function(k) {\n          return genobj(name, k) + ' !== undefined'\n        }\n\n        if (Array.isArray(deps)) {\n          validate('if (%s !== undefined && !(%s)) {', genobj(name, key), deps.map(exists).join(' && ') || 'true')\n          error('dependencies not set')\n          validate('}')\n        }\n        if (typeof deps === 'object') {\n          validate('if (%s !== undefined) {', genobj(name, key))\n          visit(name, deps, reporter, filter)\n          validate('}')\n        }\n      })\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.additionalProperties || node.additionalProperties === false) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      var i = genloop()\n      var keys = gensym('keys')\n\n      var toCompare = function(p) {\n        return keys+'['+i+'] !== '+JSON.stringify(p)\n      }\n\n      var toTest = function(p) {\n        return '!'+patterns(p)+'.test('+keys+'['+i+'])'\n      }\n\n      var additionalProp = Object.keys(properties || {}).map(toCompare)\n        .concat(Object.keys(node.patternProperties || {}).map(toTest))\n        .join(' && ') || 'true'\n\n      validate('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n          ('if (%s) {', additionalProp)\n\n      if (node.additionalProperties === false) {\n        if (filter) validate('delete %s', name+'['+keys+'['+i+']]')\n        error('has additional properties', null, JSON.stringify(name+'.') + ' + ' + keys + '['+i+']')\n      } else {\n        visit(name+'['+keys+'['+i+']]', node.additionalProperties, reporter, filter)\n      }\n\n      validate\n          ('}')\n        ('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.$ref) {\n      var sub = get(root, opts && opts.schemas || {}, node.$ref)\n      if (sub) {\n        var fn = cache[node.$ref]\n        if (!fn) {\n          cache[node.$ref] = function proxy(data) {\n            return fn(data)\n          }\n          fn = compile(sub, cache, root, false, opts)\n        }\n        var n = gensym('ref')\n        scope[n] = fn\n        validate('if (!(%s(%s))) {', n, name)\n        error('referenced schema does not match')\n        validate('}')\n      }\n    }\n\n    if (node.not) {\n      var prev = gensym('prev')\n      validate('var %s = errors', prev)\n      visit(name, node.not, false, filter)\n      validate('if (%s === errors) {', prev)\n      error('negative schema matches')\n      validate('} else {')\n        ('errors = %s', prev)\n      ('}')\n    }\n\n    if (node.items && !tuple) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      var i = genloop()\n      validate('for (var %s = 0; %s < %s.length; %s++) {', i, i, name, i)\n      visit(name+'['+i+']', node.items, reporter, filter)\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.patternProperties) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n      var keys = gensym('keys')\n      var i = genloop()\n      validate\n        ('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n\n      Object.keys(node.patternProperties).forEach(function(key) {\n        var p = patterns(key)\n        validate('if (%s.test(%s)) {', p, keys+'['+i+']')\n        visit(name+'['+keys+'['+i+']]', node.patternProperties[key], reporter, filter)\n        validate('}')\n      })\n\n      validate('}')\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.pattern) {\n      var p = patterns(node.pattern)\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n      validate('if (!(%s.test(%s))) {', p, name)\n      error('pattern mismatch')\n      validate('}')\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.allOf) {\n      node.allOf.forEach(function(sch) {\n        visit(name, sch, reporter, filter)\n      })\n    }\n\n    if (node.anyOf && node.anyOf.length) {\n      var prev = gensym('prev')\n\n      node.anyOf.forEach(function(sch, i) {\n        if (i === 0) {\n          validate('var %s = errors', prev)\n        } else {\n          validate('if (errors !== %s) {', prev)\n            ('errors = %s', prev)\n        }\n        visit(name, sch, false, false)\n      })\n      node.anyOf.forEach(function(sch, i) {\n        if (i) validate('}')\n      })\n      validate('if (%s !== errors) {', prev)\n      error('no schemas match')\n      validate('}')\n    }\n\n    if (node.oneOf && node.oneOf.length) {\n      var prev = gensym('prev')\n      var passes = gensym('passes')\n\n      validate\n        ('var %s = errors', prev)\n        ('var %s = 0', passes)\n\n      node.oneOf.forEach(function(sch, i) {\n        visit(name, sch, false, false)\n        validate('if (%s === errors) {', prev)\n          ('%s++', passes)\n        ('} else {')\n          ('errors = %s', prev)\n        ('}')\n      })\n\n      validate('if (%s !== 1) {', passes)\n      error('no (or more than one) schemas match')\n      validate('}')\n    }\n\n    if (node.multipleOf !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (!isMultipleOf(%s, %d)) {', name, node.multipleOf)\n\n      error('has a remainder')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (node.maxProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length > %d) {', name, node.maxProperties)\n      error('has more properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.minProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length < %d) {', name, node.minProperties)\n      error('has less properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.maxItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length > %d) {', name, node.maxItems)\n      error('has more items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.minItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length < %d) {', name, node.minItems)\n      error('has less items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.maxLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length > %d) {', name, node.maxLength)\n      error('has longer length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length < %d) {', name, node.minLength)\n      error('has less length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minimum !== undefined) {\n      validate('if (%s %s %d) {', name, node.exclusiveMinimum ? '<=' : '<', node.minimum)\n      error('is less than minimum')\n      validate('}')\n    }\n\n    if (node.maximum !== undefined) {\n      validate('if (%s %s %d) {', name, node.exclusiveMaximum ? '>=' : '>', node.maximum)\n      error('is more than maximum')\n      validate('}')\n    }\n\n    if (properties) {\n      Object.keys(properties).forEach(function(p) {\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('if (%s !== null) {', name)\n\n        visit(genobj(name, p), properties[p], reporter, filter)\n\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('}')\n      })\n    }\n\n    while (indent--) validate('}')\n  }\n\n  var validate = genfun\n    ('function validate(data) {')\n      ('validate.errors = null')\n      ('var errors = 0')\n\n  visit('data', schema, reporter, opts && opts.filter)\n\n  validate\n      ('return errors === 0')\n    ('}')\n\n  validate = validate.toFunction(scope)\n  validate.errors = null\n\n  if (Object.defineProperty) {\n    Object.defineProperty(validate, 'error', {\n      get: function() {\n        if (!validate.errors) return ''\n        return validate.errors.map(function(err) {\n          return err.field + ' ' + err.message;\n        }).join('\\n')\n      }\n    })\n  }\n\n  validate.toJSON = function() {\n    return schema\n  }\n\n  return validate\n}\n\nmodule.exports = function(schema, opts) {\n  if (typeof schema === 'string') schema = JSON.parse(schema)\n  return compile(schema, {}, schema, true, opts)\n}\n\nmodule.exports.filter = function(schema, opts) {\n  var validate = module.exports(schema, xtend(opts, {filter: true}))\n  return function(sch) {\n    validate(sch)\n    return sch\n  }\n}\n"]}
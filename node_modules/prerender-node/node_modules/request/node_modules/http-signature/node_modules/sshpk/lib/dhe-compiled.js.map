{"version":3,"sources":["dhe.js"],"names":[],"mappings":"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","file":"dhe-compiled.js","sourcesContent":["// Copyright 2015 Joyent, Inc.\n\nmodule.exports = DiffieHellman;\n\nvar assert = require('assert-plus');\nvar crypto = require('crypto');\nvar algs = require('./algs');\nvar utils = require('./utils');\nvar ed;\n\nvar Key = require('./key');\nvar PrivateKey = require('./private-key');\n\nvar CRYPTO_HAVE_ECDH = (crypto.createECDH !== undefined);\n\nvar ecdh, ec, jsbn;\n\nfunction DiffieHellman(key) {\n\tutils.assertCompatible(key, Key, [1, 4], 'key');\n\tthis._isPriv = PrivateKey.isPrivateKey(key, [1, 3]);\n\tthis._algo = key.type;\n\tthis._curve = key.curve;\n\tthis._key = key;\n\tif (key.type === 'dsa') {\n\t\tif (!CRYPTO_HAVE_ECDH) {\n\t\t\tthrow (new Error('Due to bugs in the node 0.10 ' +\n\t\t\t    'crypto API, node 0.12.x or later is required ' +\n\t\t\t    'to use DH'));\n\t\t}\n\t\tthis._dh = crypto.createDiffieHellman(\n\t\t    key.part.p.data, undefined,\n\t\t    key.part.g.data, undefined);\n\t\tthis._p = key.part.p;\n\t\tthis._g = key.part.g;\n\t\tif (this._isPriv)\n\t\t\tthis._dh.setPrivateKey(key.part.x.data);\n\t\tthis._dh.setPublicKey(key.part.y.data);\n\n\t} else if (key.type === 'ecdsa') {\n\t\tif (!CRYPTO_HAVE_ECDH) {\n\t\t\tif (ecdh === undefined)\n\t\t\t\tecdh = require('ecc-jsbn');\n\t\t\tif (ec === undefined)\n\t\t\t\tec = require('ecc-jsbn/lib/ec');\n\t\t\tif (jsbn === undefined)\n\t\t\t\tjsbn = require('jsbn').BigInteger;\n\n\t\t\tthis._ecParams = new X9ECParameters(this._curve);\n\n\t\t\tif (this._isPriv) {\n\t\t\t\tthis._priv = new ECPrivate(\n\t\t\t\t    this._ecParams, key.part.d.data);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tvar curve = {\n\t\t\t'nistp256': 'prime256v1',\n\t\t\t'nistp384': 'secp384r1',\n\t\t\t'nistp521': 'secp521r1'\n\t\t}[key.curve];\n\t\tthis._dh = crypto.createECDH(curve);\n\t\tif (typeof (this._dh) !== 'object' ||\n\t\t    typeof (this._dh.setPrivateKey) !== 'function') {\n\t\t\tCRYPTO_HAVE_ECDH = false;\n\t\t\tDiffieHellman.call(this, key);\n\t\t\treturn;\n\t\t}\n\t\tif (this._isPriv)\n\t\t\tthis._dh.setPrivateKey(key.part.d.data);\n\t\tthis._dh.setPublicKey(key.part.Q.data);\n\n\t} else if (key.type === 'curve25519') {\n\t\tif (ed === undefined)\n\t\t\ted = require('jodid25519');\n\n\t\tif (this._isPriv) {\n\t\t\tthis._priv = key.part.r.data;\n\t\t\tif (this._priv[0] === 0x00)\n\t\t\t\tthis._priv = this._priv.slice(1);\n\t\t\tthis._priv = this._priv.slice(0, 32);\n\t\t}\n\n\t} else {\n\t\tthrow (new Error('DH not supported for ' + key.type + ' keys'));\n\t}\n}\n\nDiffieHellman.prototype.getPublicKey = function () {\n\tif (this._isPriv)\n\t\treturn (this._key.toPublic());\n\treturn (this._key);\n};\n\nDiffieHellman.prototype.getPrivateKey = function () {\n\tif (this._isPriv)\n\t\treturn (this._key);\n\telse\n\t\treturn (undefined);\n};\nDiffieHellman.prototype.getKey = DiffieHellman.prototype.getPrivateKey;\n\nDiffieHellman.prototype._keyCheck = function (pk, isPub) {\n\tassert.object(pk, 'key');\n\tif (!isPub)\n\t\tutils.assertCompatible(pk, PrivateKey, [1, 3], 'key');\n\tutils.assertCompatible(pk, Key, [1, 4], 'key');\n\n\tif (pk.type !== this._algo) {\n\t\tthrow (new Error('A ' + pk.type + ' key cannot be used in ' +\n\t\t    this._algo + ' Diffie-Hellman'));\n\t}\n\n\tif (pk.curve !== this._curve) {\n\t\tthrow (new Error('A key from the ' + pk.curve + ' curve ' +\n\t\t    'cannot be used with a ' + this._curve +\n\t\t    ' Diffie-Hellman'));\n\t}\n\n\tif (pk.type === 'dsa') {\n\t\tassert.deepEqual(pk.part.p, this._p,\n\t\t    'DSA key prime does not match');\n\t\tassert.deepEqual(pk.part.g, this._g,\n\t\t    'DSA key generator does not match');\n\t}\n};\n\nDiffieHellman.prototype.setKey = function (pk) {\n\tthis._keyCheck(pk);\n\n\tif (pk.type === 'dsa') {\n\t\tthis._dh.setPrivateKey(pk.part.x.data);\n\t\tthis._dh.setPublicKey(pk.part.y.data);\n\n\t} else if (pk.type === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\tthis._dh.setPrivateKey(pk.part.d.data);\n\t\t\tthis._dh.setPublicKey(pk.part.Q.data);\n\t\t} else {\n\t\t\tthis._priv = new ECPrivate(\n\t\t\t    this._ecParams, pk.part.d.data);\n\t\t}\n\n\t} else if (pk.type === 'curve25519') {\n\t\tthis._priv = pk.part.r.data;\n\t\tif (this._priv[0] === 0x00)\n\t\t\tthis._priv = this._priv.slice(1);\n\t\tthis._priv = this._priv.slice(0, 32);\n\t}\n\tthis._key = pk;\n\tthis._isPriv = true;\n};\nDiffieHellman.prototype.setPrivateKey = DiffieHellman.prototype.setKey;\n\nDiffieHellman.prototype.computeSecret = function (otherpk) {\n\tthis._keyCheck(otherpk, true);\n\tif (!this._isPriv)\n\t\tthrow (new Error('DH exchange has not been initialized with ' +\n\t\t    'a private key yet'));\n\n\tvar pub;\n\tif (this._algo === 'dsa') {\n\t\treturn (this._dh.computeSecret(\n\t\t    otherpk.part.y.data));\n\n\t} else if (this._algo === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\treturn (this._dh.computeSecret(\n\t\t\t    otherpk.part.Q.data));\n\t\t} else {\n\t\t\tpub = new ECPublic(\n\t\t\t    this._ecParams, otherpk.part.Q.data);\n\t\t\treturn (this._priv.deriveSharedSecret(pub));\n\t\t}\n\n\t} else if (this._algo === 'curve25519') {\n\t\tpub = otherpk.part.R.data;\n\t\tif (pub[0] === 0x00)\n\t\t\tpub = pub.slice(1);\n\n\t\tvar secret = ed.dh.computeKey(\n\t\t    this._priv.toString('binary'),\n\t\t    pub.toString('binary'));\n\n\t\treturn (new Buffer(secret, 'binary'));\n\t}\n\n\tthrow (new Error('Invalid algorithm: ' + this._algo));\n};\n\nDiffieHellman.prototype.generateKey = function () {\n\tvar parts = [];\n\tvar priv, pub;\n\tif (this._algo === 'dsa') {\n\t\tthis._dh.generateKeys();\n\n\t\tparts.push({name: 'p', data: this._p.data});\n\t\tparts.push({name: 'q', data: this._key.part.q.data});\n\t\tparts.push({name: 'g', data: this._g.data});\n\t\tparts.push({name: 'y', data: this._dh.getPublicKey()});\n\t\tparts.push({name: 'x', data: this._dh.getPrivateKey()});\n\t\tthis._key = new PrivateKey({\n\t\t\ttype: 'dsa',\n\t\t\tparts: parts\n\t\t});\n\t\tthis._isPriv = true;\n\t\treturn (this._key);\n\n\t} else if (this._algo === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\tthis._dh.generateKeys();\n\n\t\t\tparts.push({name: 'curve',\n\t\t\t    data: new Buffer(this._curve)});\n\t\t\tparts.push({name: 'Q', data: this._dh.getPublicKey()});\n\t\t\tparts.push({name: 'd', data: this._dh.getPrivateKey()});\n\t\t\tthis._key = new PrivateKey({\n\t\t\t\ttype: 'ecdsa',\n\t\t\t\tcurve: this._curve,\n\t\t\t\tparts: parts\n\t\t\t});\n\t\t\tthis._isPriv = true;\n\t\t\treturn (this._key);\n\n\t\t} else {\n\t\t\tvar n = this._ecParams.getN();\n\t\t\tvar r = new jsbn(crypto.randomBytes(n.bitLength()));\n\t\t\tvar n1 = n.subtract(jsbn.ONE);\n\t\t\tpriv = r.mod(n1).add(jsbn.ONE);\n\t\t\tpub = this._ecParams.getG().multiply(priv);\n\n\t\t\tpriv = new Buffer(priv.toByteArray());\n\t\t\tpub = new Buffer(this._ecParams.getCurve().\n\t\t\t    encodePointHex(pub), 'hex');\n\n\t\t\tthis._priv = new ECPrivate(this._ecParams, priv);\n\n\t\t\tparts.push({name: 'curve',\n\t\t\t    data: new Buffer(this._curve)});\n\t\t\tparts.push({name: 'Q', data: pub});\n\t\t\tparts.push({name: 'd', data: priv});\n\n\t\t\tthis._key = new PrivateKey({\n\t\t\t\ttype: 'ecdsa',\n\t\t\t\tcurve: this._curve,\n\t\t\t\tparts: parts\n\t\t\t});\n\t\t\tthis._isPriv = true;\n\t\t\treturn (this._key);\n\t\t}\n\n\t} else if (this._algo === 'curve25519') {\n\t\tpriv = ed.dh.generateKey();\n\t\tpub = ed.dh.publicKey(priv);\n\t\tthis._priv = priv = new Buffer(priv, 'binary');\n\t\tpub = new Buffer(pub, 'binary');\n\n\t\tparts.push({name: 'R', data: pub});\n\t\tparts.push({name: 'r', data: Buffer.concat([priv, pub])});\n\t\tthis._key = new PrivateKey({\n\t\t\ttype: 'curve25519',\n\t\t\tparts: parts\n\t\t});\n\t\tthis._isPriv = true;\n\t\treturn (this._key);\n\t}\n\n\tthrow (new Error('Invalid algorithm: ' + this._algo));\n};\nDiffieHellman.prototype.generateKeys = DiffieHellman.prototype.generateKey;\n\n/* These are helpers for using ecc-jsbn (for node 0.10 compatibility). */\n\nfunction X9ECParameters(name) {\n\tvar params = algs.curves[name];\n\tassert.object(params);\n\n\tvar p = new jsbn(params.p);\n\tvar a = new jsbn(params.a);\n\tvar b = new jsbn(params.b);\n\tvar n = new jsbn(params.n);\n\tvar h = jsbn.ONE;\n\tvar curve = new ec.ECCurveFp(p, a, b);\n\tvar G = curve.decodePointHex(params.G.toString('hex'));\n\n\tthis.curve = curve;\n\tthis.g = G;\n\tthis.n = n;\n\tthis.h = h;\n}\nX9ECParameters.prototype.getCurve = function () { return (this.curve); };\nX9ECParameters.prototype.getG = function () { return (this.g); };\nX9ECParameters.prototype.getN = function () { return (this.n); };\nX9ECParameters.prototype.getH = function () { return (this.h); };\n\nfunction ECPublic(params, buffer) {\n\tthis._params = params;\n\tif (buffer[0] === 0x00)\n\t\tbuffer = buffer.slice(1);\n\tthis._pub = params.getCurve().decodePointHex(buffer.toString('hex'));\n}\n\nfunction ECPrivate(params, buffer) {\n\tthis._params = params;\n\tthis._priv = new jsbn(utils.mpNormalize(buffer));\n}\nECPrivate.prototype.deriveSharedSecret = function (pubKey) {\n\tassert.ok(pubKey instanceof ECPublic);\n\tvar S = pubKey._pub.multiply(this._priv);\n\treturn (new Buffer(S.getX().toBigInteger().toByteArray()));\n};\n"]}
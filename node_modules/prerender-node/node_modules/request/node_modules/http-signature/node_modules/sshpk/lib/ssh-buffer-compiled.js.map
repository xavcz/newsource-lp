{"version":3,"sources":["ssh-buffer.js"],"names":[],"mappings":"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","file":"ssh-buffer-compiled.js","sourcesContent":["// Copyright 2015 Joyent, Inc.\n\nmodule.exports = SSHBuffer;\n\nvar assert = require('assert-plus');\n\nfunction SSHBuffer(opts) {\n\tassert.object(opts, 'options');\n\tif (opts.buffer !== undefined)\n\t\tassert.buffer(opts.buffer, 'options.buffer');\n\n\tthis._size = opts.buffer ? opts.buffer.length : 1024;\n\tthis._buffer = opts.buffer || (new Buffer(this._size));\n\tthis._offset = 0;\n}\n\nSSHBuffer.prototype.toBuffer = function () {\n\treturn (this._buffer.slice(0, this._offset));\n};\n\nSSHBuffer.prototype.atEnd = function () {\n\treturn (this._offset >= this._buffer.length);\n};\n\nSSHBuffer.prototype.remainder = function () {\n\treturn (this._buffer.slice(this._offset));\n};\n\nSSHBuffer.prototype.skip = function (n) {\n\tthis._offset += n;\n};\n\nSSHBuffer.prototype.expand = function () {\n\tthis._size *= 2;\n\tvar buf = new Buffer(this._size);\n\tthis._buffer.copy(buf, 0);\n\tthis._buffer = buf;\n};\n\nSSHBuffer.prototype.readPart = function () {\n\treturn ({data: this.readBuffer()});\n};\n\nSSHBuffer.prototype.readBuffer = function () {\n\tvar len = this._buffer.readUInt32BE(this._offset);\n\tthis._offset += 4;\n\tassert.ok(this._offset + len <= this._buffer.length,\n\t    'length out of bounds at +0x' + this._offset.toString(16) +\n\t    ' (data truncated?)');\n\tvar buf = this._buffer.slice(this._offset, this._offset + len);\n\tthis._offset += len;\n\treturn (buf);\n};\n\nSSHBuffer.prototype.readString = function () {\n\treturn (this.readBuffer().toString());\n};\n\nSSHBuffer.prototype.readCString = function () {\n\tvar offset = this._offset;\n\twhile (offset < this._buffer.length &&\n\t    this._buffer[offset] !== 0x00)\n\t\toffset++;\n\tassert.ok(offset < this._buffer.length, 'c string does not terminate');\n\tvar str = this._buffer.slice(this._offset, offset).toString();\n\tthis._offset = offset + 1;\n\treturn (str);\n};\n\nSSHBuffer.prototype.readInt = function () {\n\tvar v = this._buffer.readUInt32BE(this._offset);\n\tthis._offset += 4;\n\treturn (v);\n};\n\nSSHBuffer.prototype.readChar = function () {\n\tvar v = this._buffer[this._offset++];\n\treturn (v);\n};\n\nSSHBuffer.prototype.writeBuffer = function (buf) {\n\twhile (this._offset + 4 + buf.length > this._size)\n\t\tthis.expand();\n\tthis._buffer.writeUInt32BE(buf.length, this._offset);\n\tthis._offset += 4;\n\tbuf.copy(this._buffer, this._offset);\n\tthis._offset += buf.length;\n};\n\nSSHBuffer.prototype.writeString = function (str) {\n\tthis.writeBuffer(new Buffer(str, 'utf8'));\n};\n\nSSHBuffer.prototype.writeCString = function (str) {\n\twhile (this._offset + 1 + str.length > this._size)\n\t\tthis.expand();\n\tthis._buffer.write(str, this._offset);\n\tthis._offset += str.length;\n\tthis._buffer[this._offset++] = 0;\n};\n\nSSHBuffer.prototype.writeInt = function (v) {\n\twhile (this._offset + 4 > this._size)\n\t\tthis.expand();\n\tthis._buffer.writeUInt32BE(v, this._offset);\n\tthis._offset += 4;\n};\n\nSSHBuffer.prototype.writeChar = function (v) {\n\twhile (this._offset + 1 > this._size)\n\t\tthis.expand();\n\tthis._buffer[this._offset++] = v;\n};\n\nSSHBuffer.prototype.writePart = function (p) {\n\tthis.writeBuffer(p.data);\n};\n\nSSHBuffer.prototype.write = function (buf) {\n\twhile (this._offset + buf.length > this._size)\n\t\tthis.expand();\n\tbuf.copy(this._buffer, this._offset);\n\tthis._offset += buf.length;\n};\n"]}
{"version":3,"sources":["readme.js"],"names":[],"mappings":"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","file":"readme-compiled.js","sourcesContent":["// Load modules\r\n\r\nvar Code = require('code');\r\nvar Hawk = require('../lib');\r\nvar Hoek = require('hoek');\r\nvar Lab = require('lab');\r\n\r\n\r\n// Declare internals\r\n\r\nvar internals = {};\r\n\r\n\r\n// Test shortcuts\r\n\r\nvar lab = exports.lab = Lab.script();\r\nvar describe = lab.experiment;\r\nvar it = lab.test;\r\nvar expect = Code.expect;\r\n\r\n\r\ndescribe('README', function () {\r\n\r\n    describe('core', function () {\r\n\r\n        var credentials = {\r\n            id: 'dh37fgj492je',\r\n            key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\r\n            algorithm: 'sha256'\r\n        };\r\n\r\n        var options = {\r\n            credentials: credentials,\r\n            timestamp: 1353832234,\r\n            nonce: 'j4h3g2',\r\n            ext: 'some-app-ext-data'\r\n        };\r\n\r\n        it('should generate a header protocol example', function (done) {\r\n\r\n            var header = Hawk.client.header('http://example.com:8000/resource/1?b=1&a=2', 'GET', options).field;\r\n\r\n            expect(header).to.equal('Hawk id=\"dh37fgj492je\", ts=\"1353832234\", nonce=\"j4h3g2\", ext=\"some-app-ext-data\", mac=\"6R4rV5iE+NPoym+WwjeHzjAGXUtLNIxmo1vpMofpLAE=\"');\r\n            done();\r\n        });\r\n\r\n        it('should generate a normalized string protocol example', function (done) {\r\n\r\n            var normalized = Hawk.crypto.generateNormalizedString('header', {\r\n                credentials: credentials,\r\n                ts: options.timestamp,\r\n                nonce: options.nonce,\r\n                method: 'GET',\r\n                resource: '/resource?a=1&b=2',\r\n                host: 'example.com',\r\n                port: 8000,\r\n                ext: options.ext\r\n            });\r\n\r\n            expect(normalized).to.equal('hawk.1.header\\n1353832234\\nj4h3g2\\nGET\\n/resource?a=1&b=2\\nexample.com\\n8000\\n\\nsome-app-ext-data\\n');\r\n            done();\r\n        });\r\n\r\n        var payloadOptions = Hoek.clone(options);\r\n        payloadOptions.payload = 'Thank you for flying Hawk';\r\n        payloadOptions.contentType = 'text/plain';\r\n\r\n        it('should generate a header protocol example (with payload)', function (done) {\r\n\r\n            var header = Hawk.client.header('http://example.com:8000/resource/1?b=1&a=2', 'POST', payloadOptions).field;\r\n\r\n            expect(header).to.equal('Hawk id=\"dh37fgj492je\", ts=\"1353832234\", nonce=\"j4h3g2\", hash=\"Yi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=\", ext=\"some-app-ext-data\", mac=\"aSe1DERmZuRl3pI36/9BdZmnErTw3sNzOOAUlfeKjVw=\"');\r\n            done();\r\n        });\r\n\r\n        it('should generate a normalized string protocol example (with payload)', function (done) {\r\n\r\n            var normalized = Hawk.crypto.generateNormalizedString('header', {\r\n                credentials: credentials,\r\n                ts: options.timestamp,\r\n                nonce: options.nonce,\r\n                method: 'POST',\r\n                resource: '/resource?a=1&b=2',\r\n                host: 'example.com',\r\n                port: 8000,\r\n                hash: Hawk.crypto.calculatePayloadHash(payloadOptions.payload, credentials.algorithm, payloadOptions.contentType),\r\n                ext: options.ext\r\n            });\r\n\r\n            expect(normalized).to.equal('hawk.1.header\\n1353832234\\nj4h3g2\\nPOST\\n/resource?a=1&b=2\\nexample.com\\n8000\\nYi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=\\nsome-app-ext-data\\n');\r\n            done();\r\n        });\r\n    });\r\n});\r\n\r\n"]}
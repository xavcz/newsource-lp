panoply$ chimp --path=tests --ddp=http://localhost:3100 --watch
[chimp] Watching features with tagged with @dev,@watch,@focus

[chimp] Running...

Feature: Limites d'usage


  @watch
  Scenario: La cliente est prévenue et doit confirmer si elle réserve pour une semaine où elle avait déjà une réservation   # tests/features/booking.feature:51
    Given I am logged in with a "h" subscription                                                                            # tests/features/booking.feature:52
    Given I disable animations                                                                                              # tests/features/booking.feature:53
    When I am visiting /reserv/5/TU                                                                                         # tests/features/booking.feature:54
    When I click on the ".reserv-avail-date[data-week='2'] .js-book-set" element                                            # tests/features/booking.feature:55
    When I click on the "#panConfirmDlg .js-btn-ok" element                                                                 # tests/features/booking.feature:56
    When I click on the "#reservCongrats a[href='/agenda']" element                                                         # tests/features/booking.feature:57
    Then the ".agenda-week[data-week='2']" element contains "Bracelet"                                                      # tests/features/booking.feature:58
    When I am visiting /catalogue                                                                                           # tests/features/booking.feature:60
    When I click on the ".catalogue-set[data-id='1'] .js-book-set" element                                                  # tests/features/booking.feature:61
    When I click on the "#quickReservDlg1 button" element                                                                   # tests/features/booking.feature:63
    When I click on the ".reserv-avail-date[data-week='2'] .js-book-set" element                                            # tests/features/booking.feature:64
    Then the "body" element contains "Vous avez déjà réservé une tenue"                                                     # tests/features/booking.feature:65
    When I click on the "#panConfirmDlg .js-btn-ok" element                                                                 # tests/features/booking.feature:66
    When I am visiting /agenda                                                                                              # tests/features/booking.feature:67
    Then the ".agenda-week[data-week='2']" element contains "Pochette bleue scintillante"                                   # tests/features/booking.feature:68

  @watch
  Scenario: Si la cliente change de réservation, le set précédent est à nouveau disponible   # tests/features/booking.feature:71
    Given I am logged in with a "h" subscription                                             # tests/features/booking.feature:72
    Given I disable animations                                                               # tests/features/booking.feature:73
    When I am visiting /reserv/5/TU                                                          # tests/features/booking.feature:75
    When I click on the ".reserv-avail-date[data-week='2'] .js-book-set" element             # tests/features/booking.feature:76
    When I click on the "#panConfirmDlg .js-btn-ok" element                                  # tests/features/booking.feature:77
    When I click on the "#reservCongrats a[href='/agenda']" element                          # tests/features/booking.feature:78
    Then the ".agenda-week[data-week='2']" element contains "Bracelet"                       # tests/features/booking.feature:79
    When I am visiting /reserv/5/TU                                                          # tests/features/booking.feature:81
    Then the ".reserv-avail-date[data-week='2']" element contains "INDISPONIBLE"             # tests/features/booking.feature:82
    When I am visiting /catalogue                                                            # tests/features/booking.feature:84
    When I click on the ".catalogue-set[data-id='1'] .js-book-set" element                   # tests/features/booking.feature:85
    When I click on the "#quickReservDlg1 button" element                                    # tests/features/booking.feature:87
    When I click on the ".reserv-avail-date[data-week='2'] .js-book-set" element             # tests/features/booking.feature:88
    Then the "body" element contains "Vous avez déjà réservé une tenue"                      # tests/features/booking.feature:89
      Error: Promise never resolved with an truthy value
        at World.<anonymous> (tests/support/then-defs.js:59:13)

          - - - - -


    When I click on the "#panConfirmDlg .js-btn-ok" element                                  # tests/features/booking.feature:90
    When I am visiting /reserv/5/TU                                                          # tests/features/booking.feature:92
    Then the ".reserv-avail-date[data-week='2']" element contains "RÉSERVER"                 # tests/features/booking.feature:93


Feature: Pause d'abonnement


  @watch
  Scenario: La cliente peut mettre en pause son abonnement pendant les semaines où elle n'a rien réservé et annuler une pause d'abonnement (avec confirmation)   # tests/features/booking.feature:100
[chimp] Detected an unhandledRejection.
[chimp][hooks] Reason:
[chimp] Detected an unhandledRejection.
    Given I am logged in with a "gold" subscription                                                                                                              # tests/features/booking.feature:101
    Given I disable animations                                                                                                                                   # tests/features/booking.feature:102
    Given I am visiting /agenda                                                                                                                                  # tests/features/booking.feature:103
    Given I disable animations                                                                                                                                   # tests/features/booking.feature:104
    When I click on the ".agenda-week[data-week='2'] .js-btn-pause-for-upcoming-week" element                                                                    # tests/features/booking.feature:105
    When I click on the "#panConfirmDlg button" element                                                                                                          # tests/features/booking.feature:107
    Then I see no dialog                                                                                                                                         # tests/features/booking.feature:108
    Then I see the ".agenda-week[data-week='2'] .js-btn-unpause-for-upcoming-week" element                                                                       # tests/features/booking.feature:110
    When I click on the ".agenda-week[data-week='2'] .js-btn-unpause-for-upcoming-week" element                                                                  # tests/features/booking.feature:111
      Error: unknown error: Element is not clickable at point (774, 129). Other element would receive the click: <div class="toast-message">...</div>
        at World.<anonymous> (tests/support/when-defs.js:16:18)

          - - - - -


    When I click on the "#panConfirmDlg a.js-btn-cancel" element                                                                                                 # tests/features/booking.feature:113
    Then I see no dialog                                                                                                                                         # tests/features/booking.feature:114
    When I see the ".agenda-week[data-week='2'] .js-btn-unpause-for-upcoming-week" element                                                                       # tests/features/booking.feature:115
    Then I click on the ".agenda-week[data-week='2'] .js-btn-unpause-for-upcoming-week" element                                                                  # tests/features/booking.feature:116
    When I click on the "#panConfirmDlg button" element                                                                                                          # tests/features/booking.feature:118
    Then I see no ".agenda-week[data-week='2'] .js-btn-unpause-for-upcoming-week" element                                                                        # tests/features/booking.feature:121


(::) failed steps (::)

Error: Promise never resolved with an truthy value
  at World.<anonymous> (tests/support/then-defs.js:59:13)

    - - - - -


Error: unknown error: Element is not clickable at point (774, 129). Other element would receive the click: <div class="toast-message">...</div>
  at World.<anonymous> (tests/support/when-defs.js:16:18)

    - - - - -


Failing scenarios:
tests/features/booking.feature:71 # Scenario: Si la cliente change de réservation, le set précédent est à nouveau disponible
tests/features/booking.feature:100 # Scenario: La cliente peut mettre en pause son abonnement pendant les semaines où elle n'a rien réservé et annuler une pause d'abonnement (avec confirmation)

3 scenarios (2 failed, 1 passed)
47 steps (2 failed, 9 skipped, 36 passed)


